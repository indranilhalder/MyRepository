<widget xmlns="http://www.zkoss.org/2005/zul"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:h="http://www.w3.org/1999/xhtml"
	xmlns:w="http://www.zkoss.org/2005/zk/client"
	xmlns:zk="http://www.zkoss.org/2005/zk"
	xsi:schemaLocation="http://www.zkoss.org/2005/zul http://www.hybris.com/schema/cockpitng/zul/zul.xsd"
	height="100%" apply="org.zkoss.bind.BindComposer"
	viewModel="@id('vm') @init('com.techouts.backoffice.widget.controller.LpoverrideWidgetController')">
	<columnlayout width="100%" height="100%">
		<columnchildren width="100%">
			<panel
				style="height:20%;font-size:14px;border-bottom:3px solid #27394f;border:none">
				<panelchildren style="border:none">
					<vlayout style="width:100%;height:100px">
						<hlayout>
							<vlayout width="100px">
								<label value="orderId" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<textbox hflex="1"
									value="@bind(vm.txtOrderId)" style="width:200px;height:10px">
								</textbox>
							</vlayout>

							<vlayout width="100px">
								<label value="transactionId" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<textbox hflex="1"
									value="@bind(vm.txtTransactionId)"
									style="width:200px;height:10px">
								</textbox>
							</vlayout>

						</hlayout>
						<hlayout>
							<vlayout width="100px">
								<label value="Slave ID" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<textbox hflex="1"
									value="@bind(vm.txtSlaveId)" style="width:200px;height:10px">
								</textbox>
							</vlayout>
							<vlayout width="100px">
								<label value="Seller ID" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<textbox hflex="1"
									value="@bind(vm.txtsellerId)"
									style="width:200px;height:10px">
								</textbox>
							</vlayout>
						</hlayout>
						<hlayout>
							<vlayout width="100px">
								<label value="Order Status" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<listbox model="@bind(vm.ordersStatus)"
									itemRenderer="com.techouts.backoffice.render.OrderStatusListRenderer"
									mold="select" selectedItem="@save(vm.selectionOrderStatus)"
									style="width:200px;">
								</listbox>
							</vlayout>
							<vlayout width="100px">
								<label value="LP Name" hflex="1" />
							</vlayout>
							<vlayout width="200px">
								<listbox model="@bind(vm.lpList)"
									itemRenderer="com.techouts.backoffice.render.LogistcsPartenerListRenderer"
									mold="select" selectedItem="@save(vm.selectionLpName)"
									style="width:200px">
								</listbox>
							</vlayout>
							<vlayout width="100px">
								<label value="Is Return" hflex="1" />
							</vlayout>
							<vlayout>
								<checkbox checked="@bind(vm.isReturn)"
									onCheck="@command('isReturnCheck')">
								</checkbox>
							</vlayout>
							<vlayout
								style="width:100px;margin-left:10px">
								<button style="float:right"
									label="Search" onClick="@command('lpSearch')" />
							</vlayout>
						</hlayout>
					</vlayout>
				</panelchildren>
			</panel>
		<panel
				style="max-height:70%;height:60%;border-bottom:3px solid #27394f;border:none">
				<panelchildren>
             		<listbox model="@bind(vm.listOfTransactions)"
						id="listBoxData" mold="paging" pageSize="8" pagingPosition="top"
						emptyMessage="No result found in the result">

						<listhead sizable="true">
							<listheader style="text-align:left"
								label="Order Id">
							</listheader>
							<listheader style="text-align:left"
								label="Order  Status">
							</listheader>
							<listheader style="text-align:left"
								label="Transaction Id">
							</listheader>
							<listheader style="text-align:left"
								label="Slave Id">
							</listheader>
							<listheader style="text-align:left"
								label="Seller Id">
							</listheader>
							<listheader width="100px"
								style="text-align:left" label="LP Name">
							</listheader>
							<listheader width="100px"
								style="text-align:left" label="next Lp Name">
							</listheader>
							<listheader style="text-align:left"
								label="Awb Number">
							</listheader>
						</listhead>
						<template name="model" var="item">
							<listitem>
								<listcell label="@load(item.orderId)" />
								<listcell
									label="@load(item.orderStatus)" />
								<listcell
									label="@load(item.transactionId)" />
								<listcell label="@load(item.slaveId)" />
								<listcell label="@load(item.sellerId)" />
								<listcell label="@load(item.logisticName)" />
								<listcell>
									<listbox
										selectedItem="@save(item.logisticName)" onSelect="@command('onChangeTransactionInfo',transaction=item)"
										mold="select" model="@load(vm.lpList)">
										<template name="model">
											<listitem label="${each}" />
										</template>
									</listbox>
								</listcell>
								<listcell>
									<textbox inplace="true"
										onChange="@command('onChangeTransactionInfo',transaction=item)"
										value="@bind(item.awbNumber)">
									</textbox>
								</listcell>
							</listitem>
						</template>
					</listbox>
				</panelchildren>
			</panel>
			<panel id="olpanel" style="height:47%;padding:0px">
				<panelchildren
					style="border:none;padding:0px;max-height:100%;">
					<vlayout style="width:100%;height:100px">
						<hlayout>
							<vlayout width="700px">
								<button style="float:right"
									onClick="@command('saveAllTransactions')" label="Save" />
							</vlayout>
						</hlayout>
					</vlayout>
				</panelchildren>
			</panel>
		</columnchildren>
	</columnlayout>
</widget>
<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 [y] hybris Platform

 Copyright (c) 2000-2013 hybris AG
 All rights reserved.

 This software is the confidential and proprietary information of hybris
 ("Confidential Information"). You shall not disclose such Confidential
 Information and shall use it only in accordance with the terms of the
 license agreement you entered into with hybris.

  
-->
<!--
	ATTENTION: This is just an example file. You have to edit it according to your needs.
-->

<items 	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
			xsi:noNamespaceSchemaLocation="items.xsd">

	<!-- Restriction : Commented as functionality out of scope of R2.1   Uncomment when in scope -->
	 <collectiontypes>
	   
		<collectiontype code="SellerDataCollection" elementtype="SellerMaster" 
			autocreate="true" generate="false" />
		<!-- added for TPR-4461 PaymentModeAndBankSpecificRestriction starts here -->
			<collectiontype code="PaymentModeDataCollection" elementtype="PaymentMode"
			autocreate="true" generate="false" type="list" />
			<collectiontype code="PaymentTypeDataCollection" elementtype="PaymentType"
			autocreate="true" generate="false" type="list" />
		<collectiontype code="BankDataCollection" elementtype="Bank" 
			autocreate="true" generate="false" type="list" />
			<!-- added for TPR-4461 ends here -->


	   <!--  <collectiontype code="DeliveryModeDataCollection" elementtype="DeliveryMode"
			autocreate="true" generate="false" type="list" /> 
		<collectiontype code="PaymentModeDataCollection" elementtype="PaymentMode"
			autocreate="true" generate="false" type="list" />
		<collectiontype code="BankDataCollection" elementtype="Bank" 
			autocreate="true" generate="false" type="list" />
		<collectiontype code="SellerDataCollection" elementtype="SellerMaster" 
			autocreate="true" generate="false" />-->
		<collectiontype code="ChannelDataCollection" elementtype="SalesApplication"
			autocreate="true" generate="false" type="list" /> 
	</collectiontypes> 
	
	<enumtypes>
        <!-- Event Type Enum -->
        <enumtype code="eventTypeEnum" autocreate="true" generate="true">
            <value code="anniversary"/>
            <value code="birthday"/>
            <value code="purchaseAmount"/>
            <value code="firstTimeReg"/>
			<value code="cartNotShopped"/>
			<value code="cartAbanPmtPage"/>
			<value code="cartAbanCartPage"/>
        </enumtype>
        <!-- TPR-7448 Starts here -->
        <enumtype code="timeLimitTypeEnum" autocreate="true"
			generate="true">
			<value code="day" />
			<value code="week" />
			<value code="month" />
			<value code="year" />
		</enumtype>
		<!-- TPR-7448 Ends here -->
    </enumtypes>
            

	<itemtypes>

<!-- Tata Etail change - Coupon starts -->
		<!-- TPR-715 Seller Restriction for Voucher -->
		 <itemtype generate="true" code="SellerRestriction"
			jaloclass="com.tisl.mpl.jalo.SellerRestriction" extends="Restriction"
			autocreate="true">
			<attributes>
				<attribute qualifier="seller" autocreate="true" type="SellerDataCollection">
					<description>List of Seller</description>
					<persistence type="property" />
					<modifiers read="true" write="true" search="false"
						optional="false" initial="false" />
				</attribute>
				<attribute autocreate="true" generate="true" qualifier="sellerCodeList" type="java.lang.String">
					<description>the sellers for which the given voucher is valid for.</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" search="true" optional="true"/>
				</attribute>
				<!-- <attribute qualifier="positive" type="java.lang.Boolean" autocreate="false">
					<defaultvalue>Boolean.TRUE</defaultvalue>
					<description>
						Specifies if this restriction is a positive (true) or negative 
						(false) one.
					</description>
					<persistence type="property"/>
					<modifiers search="false" optional="false"/>
				</attribute> -->
			</attributes>
		</itemtype>
		<!-- TPR-715 Seller Restriction for Voucher ends -->
		
		
		<!-- added for TPR-4461 PaymentModeAndBankSpecificRestriction starts here -->
		<itemtype generate="true" code="PaymentModeRestriction"
			jaloclass="com.tisl.mpl.jalo.PaymentModeRestriction" extends="Restriction"
			autocreate="true">

			<attributes>
				<attribute autocreate="true" qualifier="paymentModes"
					type="PaymentModeDataCollection">
					<description>List of Payment Modes</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="paymentTypeData"
					type="PaymentTypeDataCollection">
					<description>List of Payment Modes</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="banks"
					type="BankDataCollection">
					<description>List of Banks</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
				<!-- TPR-7448 Starts here-->
				<attribute autocreate="true" qualifier="maxAvailCount"
					type="java.lang.Integer">
					<description>Max. count that can be availed for One card per offer</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="maxAmountPerTimeLimit"
					type="java.lang.Double">
					<description>Max. amount that can be availed per time limit for One card per offer</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="timeLimit"
					type="timeLimitTypeEnum">
					<description>configurable time limit to be used with maxAmountPerTimeLimit</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="maxAmountAllTransaction"
					type="java.lang.Double">
					<description>Max. amount that can be availed across all transactions.</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
				<!-- TPR-7448 Ends here-->
			</attributes>

		</itemtype> 
		<!-- added for TPR-4461 ends here-->
		
		
		
		<!-- Restriction : Commented as functionality out of scope of R2.1   Uncomment when in scope -->
		<!-- Tata Etail-DeliveryModeRestriction -->
		<!-- <itemtype generate="true" code="DeliveryModeRestriction"
			jaloclass="com.tisl.mpl.jalo.DeliveryModeRestriction" extends="Restriction"
			autocreate="true">
			<attributes>
				<attribute autocreate="true" qualifier="deliveryModeDetailsList"
					type="DeliveryModeDataCollection">
					<modifiers read="true" write="true" search="false"
						optional="false" />
					<persistence type="property" />
				</attribute>
			</attributes>
		</itemtype>
		
		<itemtype generate="true" code="PaymentModeRestriction"
			jaloclass="com.tisl.mpl.jalo.PaymentModeRestriction" extends="Restriction"
			autocreate="true">

			<attributes>
				<attribute autocreate="true" qualifier="paymentModes"
					type="PaymentModeDataCollection">
					<description>List of Payment Modes</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
				</attribute>
				<attribute autocreate="true" qualifier="banks"
					type="BankDataCollection">
					<description>List of Banks</description>
					<modifiers read="true" write="true" search="true"
						optional="true" />
					<persistence type="property" />
				</attribute>
			</attributes>

		</itemtype> -->
		
		<!-- Tata Etail-Mail Sending Process Model -->
			<!-- <itemtype code="EventBasedCouponMailProcess" extends="StoreFrontProcess" autocreate="true" generate="true"
				jaloclass="com.tisl.mpl.jalo.EventBasedCouponMailProcess">
				<description>Represents customer related store front business process.</description>
				<attributes>
					<attribute qualifier="customer" type="Customer">
						<persistence type="property" />
						<description>Customer Model</description>
					</attribute>
					<attribute qualifier="voucher" type="Voucher">
						<persistence type="property" />
						<description>Voucher Model</description>
					</attribute>
				</attributes>
			</itemtype> -->

<!-- Commented out as Event specific coupons are out of scope for Rel2.1. Uncomment when in scope-->
          <!-- <itemtype code="EventCouponCreationJob" extends="CronJob"
				autocreate="true" generate="true"
				jaloclass="com.tisl.mpl.jalo.EventCouponCreationJob">				
				<attributes>
				   <attribute qualifier="voucherCode" type="java.lang.String">					
					<description>
						Specifies the user defined voucher code
					</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" search="true" optional="true"/>
				   </attribute>	
                   <attribute autocreate="true" qualifier="currency" type="Currency" generate="true">
                    <persistence type="property"/>
                    <modifiers read="true" write="true" search="true" optional="true"/>
                  </attribute>
                  <attribute qualifier="discountValue" autocreate="true"  generate="true" type="java.lang.Double">
                    <defaultvalue>Double.valueOf(0.0D)</defaultvalue>
                    <persistence type="property"/>
					<modifiers read="true" write="true" optional="false" />
				  </attribute>
				  <attribute qualifier="eventType" autocreate="true"
					type="eventTypeEnum">
					<description>Define Event Types</description>
					<defaultvalue>Boolean.TRUE</defaultvalue>
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" />
                  </attribute>
                  <attribute qualifier="couponStartDate" autocreate="true"
					type="java.util.Date">
					<description>Defines the start date of coupon.</description>
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" />
                  </attribute>
                  <attribute qualifier="couponEndDate" autocreate="true"
					type="java.util.Date">
					<description>Defines the expiry date of coupon.</description>					
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" />
                  </attribute>                  
                  <attribute qualifier="eventStartDate" autocreate="true"
					type="java.util.Date">
					<description>Defines the start date of event.</description>					
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" />
                  </attribute>
                  <attribute qualifier="eventEndDate" autocreate="true"
					type="java.util.Date">
					<description>Defines the end date of event.</description>					
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" />
                  </attribute>   				
				<attribute qualifier="cartAbanIsGreater" type="java.lang.Boolean">
					<defaultvalue>Boolean.FALSE</defaultvalue>
					<description>
						Specifies whether cart value is greater or less that threshold amount
					</description>
					<persistence type="property"/>
					<modifiers search="false" optional="true"/>
				   </attribute>
				   <attribute qualifier="orderThresholdVal" autocreate="true"  generate="true" type="java.lang.Double">
				   <defaultvalue>Double.valueOf(0.0D)</defaultvalue>
				   <persistence type="property"/>
					<modifiers read="true" write="true" optional="true" />
				  </attribute>
				  <attribute qualifier="noOfDays" type="java.lang.Integer" autocreate="true"  generate="true">
				    <defaultvalue>Integer.valueOf(0)</defaultvalue>
					<persistence type="property" />
					<modifiers read="true" write="true" optional="true" search="false" />
				</attribute>
				<attribute qualifier="redemptionLmtPerUser" type="java.lang.Integer">
				    <defaultvalue>Integer.valueOf(0)</defaultvalue>
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" search="false" />
				</attribute>
				<attribute qualifier="redemptionQtyLimit" type="java.lang.Integer">
				    <defaultvalue>Integer.valueOf(0)</defaultvalue>
					<persistence type="property" />
					<modifiers read="true" write="true" optional="false" search="false" />
				</attribute>
				
			   </attributes>
          </itemtype> -->
          
          <!-- Restriction : Commented as functionality out of scope of R2.1   Uncomment when in scope -->
          <!-- Channel Restriction for Voucher -->
          <!-- TPR-4460 -->
		<itemtype generate="true" code="ChannelRestriction"
			jaloclass="com.tisl.mpl.jalo.ChannelRestriction" extends="Restriction"
			autocreate="true">
			<attributes>
				<attribute qualifier="channel" autocreate="true" type="ChannelDataCollection">
					<description>channel</description>
					<persistence type="property" />
					<modifiers read="true" write="true" search="false"
						optional="false" initial="false" />
				</attribute>
			</attributes>
		</itemtype> 

		<!-- Restriction : Commented as functionality out of scope of R2.1   Uncomment when in scope -->
		<!-- Seller Restriction for Voucher -->
		<!-- <itemtype generate="true" code="SellerRestriction"
			jaloclass="com.tisl.mpl.jalo.SellerRestriction" extends="ProductRestriction"
			autocreate="true">
			<attributes>
				<attribute qualifier="seller" autocreate="true" type="SellerDataCollection">
					<description>List of Seller</description>
					<persistence type="property" />
					<modifiers read="true" write="true" search="false"
						optional="false" initial="false" />
				</attribute>
			</attributes>
		</itemtype>
		
		<itemtype code="SemiClosedRestriction"
			extends="Restriction"
			jaloclass="com.tisl.mpl.jalo.SemiClosedRestriction"
			autocreate="true"
			generate="true">
			<attributes>
				<attribute qualifier="users" type="PrincipalCollection">
					<description>the principals the given voucher is valid for.</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" search="false" initial="false" optional="false"/>
				</attribute>
			</attributes>
		</itemtype> -->
		
		<itemtype code="CouponMailJob" extends="CronJob"
				autocreate="true" generate="true"
				jaloclass="com.tisl.mpl.jalo.CouponMailJob">				
				<attributes>
				   <attribute qualifier="voucherCode" type="java.lang.String">					
						<description>
							Specifies the user defined voucher code
						</description>
						<persistence type="property"/>
						<modifiers read="true" write="true" search="true" optional="true"/>
				   </attribute>	
				   <attribute qualifier="targetCustomer" type="PrincipalCollection">					
						<description>
							Specifies the user defined voucher code
						</description>
						<persistence type="property"/>
						<modifiers read="true" write="true" search="false" initial="false" optional="false"/>
				   </attribute>					
			   </attributes>
          </itemtype>
          
          <itemtype code="VoucherInvalidation" autocreate="false" generate="false">
			<attributes>
				<attribute qualifier="savedAmount" type="java.lang.Double">
					<description>the code used redeeming the voucher.</description>
					<defaultvalue>Double.valueOf(0.0D)</defaultvalue>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
			</attributes>
		</itemtype>
		
		<itemtype code="Voucher" autocreate="false" generate="false">
			<attributes>
				<attribute qualifier="maxDiscountValue" type="java.lang.Double">
					<description>the code used redeeming the voucher.</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
				<!-- TPR-7408 starts here -->
				<attribute qualifier="couponCostCentreOnePercentage" autocreate="true"
					type="java.lang.Double">
					<defaultvalue>Double.valueOf(0D)</defaultvalue>
					<description>Cost Centre One Percentage Attribution</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
                 </attribute>

                 <attribute qualifier="couponCostCentreTwoPercentage" autocreate="true"
					type="java.lang.Double">
					<defaultvalue>Double.valueOf(0D)</defaultvalue>
					<description>Cost Centre Two Percentage Attribution</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
                 </attribute>

				 <attribute qualifier="couponCostCentreThreePercentage" autocreate="true"
					type="java.lang.Double">
					<defaultvalue>Double.valueOf(0D)</defaultvalue>
					<description>Cost Centre Three Percentage Attribution</description>
					<modifiers read="true" write="true" search="true"
						optional="false" />
					<persistence type="property" />
                 </attribute>
                 <!-- TPR-7408 ends here -->
			</attributes>
		</itemtype>
		
		<!-- Added for adding multiple products in ProductRestriction -->
		<itemtype code="ProductRestriction"
			extends="Restriction"
			jaloclass="de.hybris.platform.voucher.jalo.ProductRestriction"
			autocreate="false"
			generate="false">
			<attributes>
				<attribute autocreate="true" generate="true" qualifier="productCodeList" type="java.lang.String">
					<description>the products the given voucher is valid for.</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" search="true" optional="true"/>
				</attribute>
				<attribute qualifier="products" type="ProductCollection" redeclare="true" autocreate="false" generate="false">
					<description>the products the given voucher is valid for.</description>
					<persistence type="property">
							<columntype database="oracle">
								<value>CLOB</value>
							</columntype>
				    </persistence>
					<modifiers search="false"/>
				</attribute>
			</attributes>
		</itemtype>
		
		<itemtype code="UserRestriction"
			extends="Restriction"
			jaloclass="de.hybris.platform.voucher.jalo.UserRestriction"
			autocreate="false"
			generate="false">
			<attributes>
				<attribute qualifier="users" type="PrincipalCollection" redeclare="true" autocreate="false" generate="false">
					<description>the principals the given voucher is valid for.</description>
					<persistence type="property">
							<columntype database="oracle">
								<value>CLOB</value>
							</columntype>
				    </persistence>
					<modifiers read="true" write="true" search="false" initial="false" optional="false"/>
				</attribute>
			</attributes>
		</itemtype>
		
		<!-- added for TPR-1076 -->
		<itemtype code="UnregisteredUserRestriction"
		 	extends="Restriction"
		 	generate="true" 
			jaloclass="com.tisl.mpl.jalo.UnregisteredUserRestriction"
		 	autocreate="true">
		 	<attributes>
		 		<attribute type="java.lang.String" qualifier="emailList">
		 			<persistence type="property">
		                <columntype database="oracle">
							<value>CLOB</value>
						</columntype>
						<columntype database="mysql">
							<value>text</value>
						</columntype>
						<columntype database="sqlserver">
							<value>nvarchar(max)</value>
						</columntype>
						<columntype database="hsqldb">
							<value>LONGVARCHAR</value>
						</columntype>
						<columntype>
							<value>varchar</value>
						</columntype>
		 			</persistence>
		 			<description>List of  unregistered email IDs in the website</description>
		 			<modifiers read="true"  write="true"  search="true" optional="false"/>
				 </attribute>
		 	</attributes>
		 </itemtype>
		 
		 <!-- New Coupon created for Promotion Sequencing-->
		 
		 <itemtype code="MplCartOfferVoucher" 
			extends="PromotionVoucher" 
			jaloclass="com.tisl.mpl.jalo.MplCartOfferVoucher"
			autocreate="true" 
			generate="true">
			
			<attributes>
			<attribute qualifier="termsAndCondition" type="localized:java.lang.String">
 				<description>The message to show configurable text in Offer Section</description>
 				<modifiers read="true" write="true" optional="true" />
 					<persistence type="property">
 						<columntype database="oracle">
 							<value>varchar2(2500)</value>	<!-- Changed for PRDI-177 -->
 						</columntype>
 						<columntype database="mysql">
 							<value>text</value>
 						</columntype>
 						<columntype database="sqlserver">
							<value>nvarchar(max)</value>
 						</columntype>
 						<columntype database="hsqldb">
 							<value>LONGVARCHAR</value>
 						</columntype>
 					<columntype>
 							<value>varchar</value>
 						</columntype>
 					</persistence>
 			</attribute>
			</attributes>
		</itemtype>
		
		<itemtype code="MplOrderRestriction"
			extends="OrderRestriction"
			jaloclass="com.tisl.mpl.jalo.MplOrderRestriction"
			autocreate="true"
			generate="true">
		</itemtype>
		 
		 
		 <!-- New Coupon created for Promotion Sequencing ends -->
		 
		 <!-- TPR-7448 Starts here -->
		 <itemtype code="VoucherCardPerOfferInvalidation" autocreate="true" generate="false">
		 	<deployment table="MplCardOfferInvalidation" typecode="16002"/>
			<attributes>
				<attribute qualifier="guid" type="java.lang.String"  generate="false">
					<description>the cart guid against which the voucher is being redeemed</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
				<attribute qualifier="cardRefNo" type="java.lang.String"  generate="false">
					<description>the card reference number returned by juspay</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
				<attribute qualifier="voucher" type="PromotionVoucher" generate="false">
					<description>voucher code</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
				<attribute qualifier="discount" type="java.lang.Double"  generate="false">
					<defaultvalue>Double.valueOf(0.0D)</defaultvalue>
					<description>discount received</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
					<custom-properties>
						<property name="hmcIndexField"><value>"thefield"</value></property>
					</custom-properties>
				</attribute>
				<attribute qualifier="cardFingerPrint" type="java.lang.String"  generate="false">
					<description>the card finger print returned by juspay</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
				</attribute>
				<attribute qualifier="channel" type="java.lang.String"  generate="false">
					<description>channel for which entry is made</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" optional="true"/>
				</attribute>
			</attributes>
		</itemtype>
		<!-- TPR-7448 Ends here -->
		
		<!-- CAR-330 starts here -->
		<!--  COUPON USER RESTRICTION STARTS-->	<!-- extends="Restriction" -->	
		<itemtype code="CouponUserRestriction" 			
			jaloclass="de.hybris.platform.voucher.jalo.CouponUserRestriction"
			autocreate="true"
			generate="true">
			<deployment table="CouponUserRestriction" typecode="16005"/>
			
			<attributes>
				<attribute qualifier="closedUser" type="Principal">
					<description>Users present in User restriction cloned</description>
					<persistence type="property"/>
					<modifiers read="true" write="true" search="false" optional="false"/>
				</attribute>
				<attribute qualifier="voucher" type="Voucher">
				<description>Voucher</description>
				<persistence type="property"/>
				<modifiers read="true" write="true" search="true" optional="true"/>
			    </attribute>
				<attribute qualifier="positive" type="java.lang.Boolean">
					<defaultvalue>Boolean.TRUE</defaultvalue>
					<description>
						Specifies if this restriction is a positive (true) or negative 
						(false) one.
					</description>
					<persistence type="property"/>
					<modifiers search="false" optional="false"/>
				</attribute>				
			</attributes>
			<indexes>					
 	          <index name="closedUser_IDX" unique="false">
 					<key attribute="closedUser" /> 					
 	          </index>
 	          <index name="positive_IDX" unique="false">
					<key attribute="positive"/>					
	          </index>
           </indexes>
		</itemtype>		
		<!-- COUPON USER RESTRICTION ENDS --> 
		<!-- CAR-330 ends here -->
	</itemtypes>
</items>

!function(d,m){"function"==typeof define&&define.amd?define(["jquery"],function(d){return m(d)}):"object"==typeof exports?module.exports=m(require("jquery")):m(jQuery)}(this,function(d){!function(d){function g(c){return d.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){c=c.replace(this.re,this.ch)}),c}function e(c){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b="(?:"+Object.keys(a).join("|")+")",d=new RegExp(b,"g");c=null==c?"":""+c;return(new RegExp(b)).test(c)?c.replace(d,function(c){return a[c]}):c}function f(c,b){var h=arguments,l=c,x=b;[].shift.apply(h);var k,f=this.each(function(){var c=d(this);if(c.is("select")){var b=c.data("selectpicker"),p="object"==typeof l&&
l;if(b){if(p)for(var f in p)p.hasOwnProperty(f)&&(b.options[f]=p[f])}else b=d.extend({},a.DEFAULTS,d.fn.selectpicker.defaults||{},c.data(),p),b.template=d.extend({},a.DEFAULTS.template,d.fn.selectpicker.defaults?d.fn.selectpicker.defaults.template:{},c.data().template,p.template),c.data("selectpicker",b=new a(this,b,x));"string"==typeof l&&(k=b[l]instanceof Function?b[l].apply(b,h):b.options[l])}});return"undefined"!=typeof k?k:f}String.prototype.includes||!function(){var c={}.toString,a=function(){try{var c=
{},a=Object.defineProperty,b=a(c,c,c)&&a}catch(d){}return b}(),b="".indexOf,d=function(a){if(null==this)throw new TypeError;var d=String(this);if(a&&"[object RegExp]"==c.call(a))throw new TypeError;var p=d.length,l=String(a),f=l.length,A=1<arguments.length?arguments[1]:void 0,A=A?Number(A):0;A!=A&&(A=0);return f+Math.min(Math.max(A,0),p)>p?!1:-1!=b.call(d,l,A)};a?a(String.prototype,"includes",{value:d,configurable:!0,writable:!0}):String.prototype.includes=d}();String.prototype.startsWith||!function(){var c=
function(){try{var c={},a=Object.defineProperty,b=a(c,c,c)&&a}catch(d){}return b}(),a={}.toString,b=function(c){if(null==this)throw new TypeError;var b=String(this);if(c&&"[object RegExp]"==a.call(c))throw new TypeError;var d=b.length,h=String(c),f=h.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0;e!=e&&(e=0);e=Math.min(Math.max(e,0),d);if(f+e>d)return!1;for(d=-1;++d<f;)if(b.charCodeAt(e+d)!=h.charCodeAt(d))return!1;return!0};c?c(String.prototype,"startsWith",{value:b,configurable:!0,
writable:!0}):String.prototype.startsWith=b}();Object.keys||(Object.keys=function(c,a,b){b=[];for(a in c)b.hasOwnProperty.call(c,a)&&b.push(a);return b});d.fn.triggerNative=function(c){var a,b=this[0];b.dispatchEvent?("function"==typeof Event?a=new Event(c,{bubbles:!0}):(a=document.createEvent("Event"),a.initEvent(c,!0,!1)),b.dispatchEvent(a)):(b.fireEvent&&(a=document.createEventObject(),a.eventType=c,b.fireEvent("on"+c,a)),this.trigger(c))};d.expr[":"].icontains=function(c,a,b){c=d(c);return(c.data("tokens")||
c.text()).toUpperCase().includes(b[3].toUpperCase())};d.expr[":"].ibegins=function(c,a,b){c=d(c);return(c.data("tokens")||c.text()).toUpperCase().startsWith(b[3].toUpperCase())};d.expr[":"].aicontains=function(c,a,b){c=d(c);return(c.data("tokens")||c.data("normalizedText")||c.text()).toUpperCase().includes(b[3].toUpperCase())};d.expr[":"].aibegins=function(c,a,b){c=d(c);return(c.data("tokens")||c.data("normalizedText")||c.text()).toUpperCase().startsWith(b[3].toUpperCase())};var a=function(c,b,h){h&&
(h.stopPropagation(),h.preventDefault());this.$element=d(c);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=b;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=a.prototype.val;this.render=a.prototype.render;this.refresh=a.prototype.refresh;this.setStyle=a.prototype.setStyle;this.selectAll=a.prototype.selectAll;this.deselectAll=a.prototype.deselectAll;this.destroy=a.prototype.destroy;this.remove=a.prototype.remove;this.show=a.prototype.show;this.hide=
a.prototype.hide;this.init()};a.VERSION="1.10.0";a.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(c,a){return 1==c?"{0} item selected":"{0} items selected"},maxOptionsText:function(c,a){return[1==c?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==a?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",
multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1};a.prototype={constructor:a,
init:function(){var c=this,a=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");
this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!=typeof a&&(this.$button.attr("data-id",a),d('label[for="'+a+'"]').click(function(a){a.preventDefault();c.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(a){c.$element.trigger("hide.bs.select",
a)},"hidden.bs.dropdown":function(a){c.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){c.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){c.$element.trigger("shown.bs.select",a)}});c.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){c.$button.addClass("bs-invalid").focus();c.$element.on({"focus.bs.select":function(){c.$button.focus();c.$element.off("focus.bs.select")},"shown.bs.select":function(){c.$element.val(c.$element.val()).off("shown.bs.select")},
"rendered.bs.select":function(){this.validity.valid&&c.$button.removeClass("bs-invalid");c.$element.off("rendered.bs.select")}})});setTimeout(function(){c.$element.trigger("loaded.bs.select")})},createDropdown:function(){var c=this.multiple||this.options.showTick?" show-tick":"",a=this.$element.parent().hasClass("input-group")?" input-group-btn":"",b=this.autofocus?" autofocus":"",l=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+
this.options.header+"</div>":"",x=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+e(this.options.liveSearchPlaceholder)+'"')+"></div>":"";return d('<div class="btn-group bootstrap-select'+c+a+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+b+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+
'</span></button><div class="dropdown-menu open">'+l+x+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="menu"></ul>'+(this.multiple&&this.options.doneButton?
'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var c=this.createDropdown(),a=this.createLi();return c.find("ul")[0].innerHTML=a,c},reloadLi:function(){this.destroyLi();var c=this.createLi();this.$menuInner[0].innerHTML=c},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var c=this,a=[],b=0,l=document.createElement("option"),
x=-1,k=function(c,a,b,d){return"<li"+("undefined"!=typeof b&""!==b?' class="'+b+'"':"")+("undefined"!=typeof a&null!==a?' data-original-index="'+a+'"':"")+("undefined"!=typeof d&null!==d?'data-optgroup="'+d+'"':"")+">"+c+"</li>"},f=function(a,b,d,h){return'<a tabindex="0"'+("undefined"!=typeof b?' class="'+b+'"':"")+("undefined"!=typeof d?' style="'+d+'"':"")+(c.options.liveSearchNormalize?' data-normalized-text="'+g(e(a))+'"':"")+("undefined"!=typeof h||null!==h?' data-tokens="'+h+'"':"")+">"+a+
'<span class="'+c.options.iconBase+" "+c.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(x--,!this.$element.find(".bs-title-option").length)){var r=this.$element[0];l.className="bs-title-option";l.appendChild(document.createTextNode(this.options.title));l.value="";r.insertBefore(l,r.firstChild);void 0===d(r.options[r.selectedIndex]).attr("selected")&&(l.selected=!0)}return this.$element.find("option").each(function(l){var e=d(this);if(x++,!e.hasClass("bs-title-option")){var r=
this.className||"",g=this.style.cssText,w=e.data("content")?e.data("content"):e.html(),q=e.data("tokens")?e.data("tokens"):null,y="undefined"!=typeof e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",u="undefined"!=typeof e.data("icon")?'<span class="'+c.options.iconBase+" "+e.data("icon")+'"></span> ':"",H="OPTGROUP"===this.parentNode.tagName,M=this.disabled||H&&this.parentNode.disabled;if(""!==u&&M&&(u="<span>"+u+"</span>"),c.options.hideDisabled&&M&&!H)return void x--;
if(e.data("content")||(w=u+'<span class="text">'+w+y+"</span>"),H&&!0!==e.data("divider")){y=" "+this.parentNode.className||"";0===e.index()&&(b+=1,u=this.parentNode.label,H="undefined"!=typeof e.parent().data("subtext")?'<small class="text-muted">'+e.parent().data("subtext")+"</small>":"",u=(e.parent().data("icon")?'<span class="'+c.options.iconBase+" "+e.parent().data("icon")+'"></span> ':"")+'<span class="text">'+u+H+"</span>",0!==l&&0<a.length&&(x++,a.push(k("",null,"divider",b+"div"))),x++,a.push(k(u,
null,"dropdown-header"+y,b)));if(c.options.hideDisabled&&M)return void x--;a.push(k(f(w,"opt "+r+y,g,q),l,"",b))}else!0===e.data("divider")?a.push(k("",l,"divider")):!0===e.data("hidden")?a.push(k(f(w,r,g,q),l,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(x++,a.push(k("",null,"divider",b+"div"))),a.push(k(f(w,r,g,q),l)));c.liObj[l]=x}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",
!0).attr("selected","selected"),a.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(c){var a,b=this;!1!==c&&this.$element.find("option").each(function(c){var a=b.findLis().eq(b.liObj[c]);b.setDisabled(c,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,a);b.setSelected(c,this.selected,a)});this.tabIndex();c=this.$element.find("option").map(function(){if(this.selected&&(!b.options.hideDisabled||!(this.disabled||
"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var c,a=d(this),p=a.data("icon")&&b.options.showIcon?'<i class="'+b.options.iconBase+" "+a.data("icon")+'"></i> ':"";return c=b.options.showSubtext&&a.data("subtext")&&!b.multiple?' <small class="text-muted">'+a.data("subtext")+"</small>":"","undefined"!=typeof a.attr("title")?a.attr("title"):a.data("content")&&b.options.showContent?a.data("content"):p+a.html()+c}}).toArray();a=this.multiple?c.join(this.options.multipleSeparator):c[0];
if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var l=this.options.selectedTextFormat.split(">");if(1<l.length&&c.length>l[1]||1==l.length&&2<=c.length)a=this.options.hideDisabled?", [disabled]":"",a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+a).length,a=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(c.length,a):this.options.countSelectedText).replace("{0}",c.length.toString()).replace("{1}",a.toString())}void 0==
this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(a=this.options.title);a||(a="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",d.trim(a.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(a);this.$element.trigger("rendered.bs.select")},setStyle:function(c,a){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,
""));var b=c?c:this.options.style;"add"==a?this.$button.addClass(b):"remove"==a?this.$button.removeClass(b):(this.$button.removeClass(this.options.style),this.$button.addClass(b))},liHeight:function(c){if(c||!1!==this.options.size&&!this.sizeInfo){c=document.createElement("div");var a=document.createElement("div"),b=document.createElement("ul"),l=document.createElement("li"),e=document.createElement("li"),k=document.createElement("a"),f=document.createElement("span"),r=this.options.header&&0<this.$menu.find(".popover-title").length?
this.$menu.find(".popover-title")[0].cloneNode(!0):null,v=this.options.liveSearch?document.createElement("div"):null,A=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,g=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(f.className="text",c.className=this.$menu[0].parentNode.className+" open",a.className="dropdown-menu open",
b.className="dropdown-menu inner",l.className="divider",f.appendChild(document.createTextNode("Inner text")),k.appendChild(f),e.appendChild(k),b.appendChild(e),b.appendChild(l),r&&a.appendChild(r),v)e=document.createElement("span"),v.className="bs-searchbox",e.className="form-control",v.appendChild(e),a.appendChild(v);A&&a.appendChild(A);a.appendChild(b);g&&a.appendChild(g);c.appendChild(a);document.body.appendChild(c);b=k.offsetHeight;r=r?r.offsetHeight:0;v=v?v.offsetHeight:0;A=A?A.offsetHeight:
0;g=g?g.offsetHeight:0;l=d(l).outerHeight(!0);e=(k="function"==typeof getComputedStyle?getComputedStyle(a):!1)?null:d(a);a=parseInt(k?k.paddingTop:e.css("paddingTop"))+parseInt(k?k.paddingBottom:e.css("paddingBottom"))+parseInt(k?k.borderTopWidth:e.css("borderTopWidth"))+parseInt(k?k.borderBottomWidth:e.css("borderBottomWidth"));k=a+parseInt(k?k.marginTop:e.css("marginTop"))+parseInt(k?k.marginBottom:e.css("marginBottom"))+2;document.body.removeChild(c);this.sizeInfo={liHeight:b,headerHeight:r,searchHeight:v,
actionsHeight:A,doneButtonHeight:g,dividerHeight:l,menuPadding:a,menuExtras:k}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var c,a,b,l,e=this,k=this.$menu,f=this.$menuInner,r=d(window),v=this.$newElement[0].offsetHeight,A=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,t=this.sizeInfo.searchHeight,w=this.sizeInfo.actionsHeight,q=this.sizeInfo.doneButtonHeight,y=this.sizeInfo.dividerHeight,u=this.sizeInfo.menuPadding,
H=this.sizeInfo.menuExtras,M=this.options.hideDisabled?".disabled":"",U=function(){b=e.$newElement.offset().top-r.scrollTop();l=r.height()-b-v};(U(),"auto"===this.options.size)?(y=function(){var y;y=function(c,a){return function(b){return a?b.classList?b.classList.contains(c):d(b).hasClass(c):!(b.classList?b.classList.contains(c):d(b).hasClass(c))}};var v=e.$menuInner[0].getElementsByTagName("li"),v=Array.prototype.filter?Array.prototype.filter.call(v,y("hidden",!1)):e.$lis.not(".hidden");y=Array.prototype.filter?
Array.prototype.filter.call(v,y("dropdown-header",!0)):v.filter(".dropdown-header");U();c=l-H;e.options.container?(k.data("height")||k.data("height",k.height()),a=k.data("height")):a=k.height();e.options.dropupAuto&&e.$newElement.toggleClass("dropup",b>l&&a>c-H);e.$newElement.hasClass("dropup")&&(c=b-H);y=3<v.length+y.length?3*A+H-2:0;k.css({"max-height":c+"px",overflow:"hidden","min-height":y+g+t+w+q+"px"});f.css({"max-height":c-g-t-w-q-u+"px","overflow-y":"auto","min-height":Math.max(y-u,0)+"px"})},
y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),r.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",y)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(M).length>this.options.size&&(M=this.$lis.not(".divider").not(M).children().slice(0,this.options.size).last().parent().index(),M=this.$lis.slice(0,M+1).filter(".divider").length,c=A*this.options.size+M*y+u,e.options.container?(k.data("height")||k.data("height",
k.height()),a=k.data("height")):a=k.height(),e.options.dropupAuto&&this.$newElement.toggleClass("dropup",b>l&&a>c-H),k.css({"max-height":c+g+t+w+q+"px",overflow:"hidden","min-height":""}),f.css({"max-height":c-u+"px","overflow-y":"auto","min-height":""}))}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var c=this.$menu.parent().clone().appendTo("body"),a=this.options.container?this.$newElement.clone().appendTo("body"):c,b=c.children(".dropdown-menu").outerWidth(),
d=a.css("width","auto").children("button").outerWidth();c.remove();a.remove();this.$newElement.css("width",Math.max(b,d)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},
selectPosition:function(){this.$bsContainer=d('<div class="bs-container" />');var c,a,b=this,l=function(d){b.$bsContainer.addClass(d.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",d.hasClass("dropup"));c=d.offset();a=d.hasClass("dropup")?0:d[0].offsetHeight;b.$bsContainer.css({top:c.top+a,left:c.left,width:d[0].offsetWidth})};this.$button.on("click",function(){var c=d(this);b.isDisabled()||(l(b.$newElement),b.$bsContainer.appendTo(b.options.container).toggleClass("open",
!c.hasClass("open")).append(b.$menu))});d(window).on("resize scroll",function(){l(b.$newElement)});this.$element.on("hide.bs.select",function(){b.$menu.data("height",b.$menu.height());b.$bsContainer.detach()})},setSelected:function(c,a,b){b||(b=this.findLis().eq(this.liObj[c]));b.toggleClass("selected",a)},setDisabled:function(c,a,b){b||(b=this.findLis().eq(this.liObj[c]));a?b.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):b.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",
0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var c=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!c.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==
this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",-98)},clickListener:function(){var c=this,a=d(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(c){c.stopPropagation()});a.data("spaceSelect",!1);this.$button.on("keyup",function(c){/(32)/.test(c.keyCode.toString(10))&&
a.data("spaceSelect")&&(c.preventDefault(),a.data("spaceSelect",!1))});this.$button.on("click",function(){c.setSize()});this.$element.on("shown.bs.select",function(){if(c.options.liveSearch||c.multiple){if(!c.multiple){var a=c.liObj[c.$element[0].selectedIndex];"number"==typeof a&&!1!==c.options.size&&(a=c.$lis.eq(a)[0].offsetTop-c.$menuInner[0].offsetTop,a=a-c.$menuInner[0].offsetHeight/2+c.sizeInfo.liHeight/2,c.$menuInner[0].scrollTop=a)}}else c.$menuInner.find(".selected a").focus()});this.$menuInner.on("click",
"li a",function(a){var b=d(this),p=b.parent().data("originalIndex"),e=c.$element.val(),f=c.$element.prop("selectedIndex");if(c.multiple&&a.stopPropagation(),a.preventDefault(),!c.isDisabled()&&!b.parent().hasClass("disabled")){var g=c.$element.find("option");a=g.eq(p);var v=a.prop("selected"),A=a.parent("optgroup"),z=c.options.maxOptions,t=A.data("maxOptions")||!1;if(c.multiple){if(a.prop("selected",!v),c.setSelected(p,!v),b.blur(),!1!==z||!1!==t){var w=z<g.filter(":selected").length,q=t<A.find("option:selected").length;
if(z&&w||t&&q)if(z&&1==z)g.prop("selected",!1),a.prop("selected",!0),c.$menuInner.find(".selected").removeClass("selected"),c.setSelected(p,!0);else if(t&&1==t)A.find("option:selected").prop("selected",!1),a.prop("selected",!0),z=b.parent().data("optgroup"),c.$menuInner.find('[data-optgroup="'+z+'"]').removeClass("selected"),c.setSelected(p,!0);else{var b="function"==typeof c.options.maxOptionsText?c.options.maxOptionsText(z,t):c.options.maxOptionsText,g=b[0].replace("{n}",z),A=b[1].replace("{n}",
t),y=d('<div class="notify"></div>');b[2]&&(g=g.replace("{var}",b[2][1<z?0:1]),A=A.replace("{var}",b[2][1<t?0:1]));a.prop("selected",!1);c.$menu.append(y);z&&w&&(y.append(d("<div>"+g+"</div>")),c.$element.trigger("maxReached.bs.select"));t&&q&&(y.append(d("<div>"+A+"</div>")),c.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){c.setSelected(p,!1)},10);y.delay(750).fadeOut(300,function(){d(this).remove()})}}}else g.prop("selected",!1),a.prop("selected",!0),c.$menuInner.find(".selected").removeClass("selected"),
c.setSelected(p,!0);c.multiple?c.options.liveSearch&&c.$searchbox.focus():c.$button.focus();(e!=c.$element.val()&&c.multiple||f!=c.$element.prop("selectedIndex")&&!c.multiple)&&c.$element.trigger("changed.bs.select",[p,a.prop("selected"),v]).triggerNative("change")}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.currentTarget==this&&(a.preventDefault(),a.stopPropagation(),c.options.liveSearch&&!d(a.target).hasClass("close")?c.$searchbox.focus():
c.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault();a.stopPropagation();c.options.liveSearch?c.$searchbox.focus():c.$button.focus()});this.$menu.on("click",".popover-title .close",function(){c.$button.click()});this.$searchbox.on("click",function(c){c.stopPropagation()});this.$menu.on("click",".actions-btn",function(a){c.options.liveSearch?c.$searchbox.focus():c.$button.focus();a.preventDefault();a.stopPropagation();d(this).hasClass("bs-select-all")?
c.selectAll():c.deselectAll()});this.$element.change(function(){c.render(!1)})},liveSearchListener:function(){var c=this,a=d('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){c.$menuInner.find(".active").removeClass("active");c.$searchbox.val()&&(c.$searchbox.val(""),c.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove());c.multiple||c.$menuInner.find(".selected").addClass("active");setTimeout(function(){c.$searchbox.focus()},
10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(c.$searchbox.val()){var b=c.$lis.not(".is-hidden").removeClass("hidden").children("a"),b=c.options.liveSearchNormalize?b.not(":a"+c._searchStyle()+'("'+g(c.$searchbox.val())+'")'):b.not(":"+c._searchStyle()+'("'+c.$searchbox.val()+'")');b.parent().addClass("hidden");c.$lis.filter(".dropdown-header").each(function(){var a=
d(this),b=a.data("optgroup");0===c.$lis.filter("[data-optgroup="+b+"]").not(a).not(".hidden").length&&(a.addClass("hidden"),c.$lis.filter("[data-optgroup="+b+"div]").addClass("hidden"))});var l=c.$lis.not(".hidden");l.each(function(a){var c=d(this);c.hasClass("divider")&&(c.index()===l.first().index()||c.index()===l.last().index()||l.eq(a+1).hasClass("divider"))&&c.addClass("hidden")});c.$lis.not(".hidden, .no-results").length?a.parent().length&&a.remove():(a.parent().length&&a.remove(),a.html(c.options.noneResultsText.replace("{0}",
'"'+e(c.$searchbox.val())+'"')).show(),c.$menuInner.append(a))}else c.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove();c.$lis.filter(".active").removeClass("active");c.$searchbox.val()&&c.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();d(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(a){return"undefined"!=typeof a?(this.$element.val(a),
this.render(),this.$element):this.$element.val()},changeAll:function(a){"undefined"==typeof a&&(a=!0);this.findLis();for(var b=this.$element.find("option"),h=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",a),e=h.length,f=[],k=0;e>k;k++){var g=h[k].getAttribute("data-original-index");f[f.length]=b.eq(g)[0]}d(f).prop("selected",a);this.render(!1);this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},
deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation();this.$button.trigger("click")},keydown:function(a){var b,h,e,f,k,B,r,v,A,z=d(this);h=z.is("input")?z.parent().parent():z.parent();var t=h.data("this"),w={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",
87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(t.options.liveSearch&&(h=z.parent().parent()),t.options.container&&(h=t.$menu),b=d("[role=menu] li",h),A=t.$newElement.hasClass("open"),!A&&(48<=a.keyCode&&57>=a.keyCode||96<=a.keyCode&&105>=a.keyCode||65<=a.keyCode&&90>=a.keyCode)&&(t.options.container?t.$button.trigger("click"):(t.setSize(),t.$menu.parent().addClass("open"),A=!0),t.$searchbox.focus()),t.options.liveSearch&&(/(^9$|27)/.test(a.keyCode.toString(10))&&
A&&0===t.$menu.find(".active").length&&(a.preventDefault(),t.$menu.parent().removeClass("open"),t.options.container&&t.$newElement.removeClass("open"),t.$button.focus()),b=d("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",h),z.val()||/(38|40)/.test(a.keyCode.toString(10))||0===b.filter(".active").length&&(b=t.$menuInner.find("li"),b=t.options.liveSearchNormalize?b.filter(":a"+t._searchStyle()+"("+g(w[a.keyCode])+")"):b.filter(":"+t._searchStyle()+"("+w[a.keyCode]+")"))),b.length){if(/(38|40)/.test(a.keyCode.toString(10)))h=
b.index(b.find("a").filter(":focus").parent()),f=b.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),k=b.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),e=b.eq(h).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),B=b.eq(h).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),r=b.eq(e).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),t.options.liveSearch&&(b.each(function(a){d(this).hasClass("disabled")||
d(this).data("index",a)}),h=b.index(b.filter(".active")),f=b.first().data("index"),k=b.last().data("index"),e=b.eq(h).nextAll().eq(0).data("index"),B=b.eq(h).prevAll().eq(0).data("index"),r=b.eq(e).prevAll().eq(0).data("index")),v=z.data("prevIndex"),38==a.keyCode?(t.options.liveSearch&&h--,h!=r&&h>B&&(h=B),f>h&&(h=f),h==v&&(h=k)):40==a.keyCode&&(t.options.liveSearch&&h++,-1==h&&(h=0),h!=r&&e>h&&(h=e),h>k&&(h=k),h==v&&(h=f)),z.data("prevIndex",h),t.options.liveSearch?(a.preventDefault(),z.hasClass("dropdown-toggle")||
(b.removeClass("active").eq(h).addClass("active").children("a").focus(),z.focus())):b.eq(h).children("a").focus();else if(!z.is("input")){var q=[];b.each(function(){d(this).hasClass("disabled")||d.trim(d(this).children("a").text().toLowerCase()).substring(0,1)==w[a.keyCode]&&q.push(d(this).index())});h=d(document).data("keycount");h++;d(document).data("keycount",h);d.trim(d(":focus").text().toLowerCase()).substring(0,1)!=w[a.keyCode]?(h=1,d(document).data("keycount",h)):h>=q.length&&(d(document).data("keycount",
0),h>q.length&&(h=1));b.eq(q[h-1]).children("a").focus()}(/(13|32)/.test(a.keyCode.toString(10))||/(^9$)/.test(a.keyCode.toString(10))&&t.options.selectOnTab)&&A&&((/(32)/.test(a.keyCode.toString(10))||a.preventDefault(),t.options.liveSearch)?/(32)/.test(a.keyCode.toString(10))||(t.$menuInner.find(".active a").click(),z.focus()):(b=d(":focus"),b.click(),b.focus(),a.preventDefault(),d(document).data("spaceSelect",!0)),d(document).data("keycount",0));(/(^9$|27)/.test(a.keyCode.toString(10))&&A&&(t.multiple||
t.options.liveSearch)||/(27)/.test(a.keyCode.toString(10))&&!A)&&(t.$menu.parent().removeClass("open"),t.options.container&&t.$newElement.removeClass("open"),t.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},
show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var b=d.fn.selectpicker;d.fn.selectpicker=f;d.fn.selectpicker.Constructor=a;d.fn.selectpicker.noConflict=function(){return d.fn.selectpicker=b,this};d(document).data("keycount",
0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',a.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(a){a.stopPropagation()});d(window).on("load.bs.select.data-api",function(){d(".selectpicker").each(function(){var a=d(this);f.call(a,a.data())})})}(d)});!function(d,m,g){var e=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=g(e):"function"==typeof define&&define.amd?define(function(){return m[d]=g(e)}):m[d]=g(e)}("enquire",this,function(d){function m(a,b){var c,d=0,h=a.length;for(d;h>d&&(c=b(a[d],d),!1!==c);d++);}function g(a){this.options=a;!a.deferSetup&&this.setup()}function e(a,b){this.query=a;this.isUnconditional=b;this.handlers=[];this.mql=d(a);var c=this;this.listener=function(a){c.mql=a;c.assess()};this.mql.addListener(this.listener)}
function f(){if(!d)throw Error("matchMedia not present, legacy browsers require a polyfill");this.queries={};this.browserIsIncapable=!d("only all").matches}return g.prototype={setup:function(){this.options.setup&&this.options.setup();this.initialised=!0},on:function(){!this.initialised&&this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===
a||this.options.match===a}},e.prototype={addHandler:function(a){a=new g(a);this.handlers.push(a);this.matches()&&a.on()},removeHandler:function(a){var b=this.handlers;m(b,function(c,d){return c.equals(a)?(c.destroy(),!b.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){m(this.handlers,function(a){a.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";m(this.handlers,function(b){b[a]()})}},
f.prototype={register:function(a,b,c){var d=this.queries;c=c&&this.browserIsIncapable;return d[a]||(d[a]=new e(a,c)),"function"==typeof b&&(b={match:b}),"[object Array]"===Object.prototype.toString.apply(b)||(b=[b]),m(b,function(c){"function"==typeof c&&(c={match:c});d[a].addHandler(c)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new f});(function(d,m){function g(a,b){var c=this;b=b||{};this.elements=a||".js-responsive-image";this.className=b.className||"js-responsive-image-replaced";this.onResize=b.hasOwnProperty("onResize")?b.onResize:!0;this.onImagesReplaced=b.onImagesReplaced||function(){};this.eles=$(a);e(function(){c.init()})}var e,f;e=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame||function(a){d.setTimeout(a,1E3/60)};f=function(){return m.addEventListener?function(a,b,c){return a.addEventListener(b,
c,!1)}:function(a,b,c){return a.attachEvent("on"+b,c)}}();g.prototype.init=function(){this.checkImagesNeedReplacing(this.eles);this.onResize&&this.registerResizeEvent()};g.prototype.checkImagesNeedReplacing=function(a){var b=this;this.isResizing||(this.isResizing=!0,a.each(function(){b.replaceImagesBasedOnScreenDimensions(this)}),this.isResizing=!1,this.onImagesReplaced(a))};g.prototype.replaceImagesBasedOnScreenDimensions=function(a){var b=[],c,d;void 0!=$(a).attr("data-media")&&(c=$(a).attr("data-media"),
$(a).removeAttr("data-media"),c=$.parseJSON(c),$.each(c,function(a,c){b.push(parseInt(a))}),$(a).data("width",b),$(a).data("media",c));c=$(a).data("media");d=g.getClosestValue($(a).parent().width(),$.extend([],$(a).data("width")));a.src!=c[d]&&(a.src=c[d])};g.getClosestValue=function b(c,d){c>=d[0]&&(d.shift(),1<d.length&&b(c,d));return d[0]};g.prototype.registerResizeEvent=function(){var b=this;f(d,"resize",function(){b.checkImagesNeedReplacing(b.eles)})};"object"===typeof module&&"object"===typeof module.exports?
module.exports=exports=g:"function"===typeof define&&define.amd?define(function(){return g}):"object"===typeof d&&(d.Imager=g)})(window,document);(function(){function d(d){function g(b,f){var g,t,w=b==window,q=f&&void 0!==f.message?f.message:void 0;f=d.extend({},d.blockUI.defaults,f||{});if(!f.ignoreIfBlocked||!d(b).data("blockUI.isBlocked")){f.overlayCSS=d.extend({},d.blockUI.defaults.overlayCSS,f.overlayCSS||{});g=d.extend({},d.blockUI.defaults.css,f.css||{});f.onOverlayClick&&(f.overlayCSS.cursor="pointer");t=d.extend({},d.blockUI.defaults.themedCSS,f.themedCSS||{});q=void 0===q?f.message:q;w&&B&&e(window,{fadeOut:0});if(q&&"string"!=typeof q&&
(q.parentNode||q.jquery)){var y=q.jquery?q[0]:q,u={};d(b).data("blockUI.history",u);u.el=y;u.parent=y.parentNode;u.display=y.style.display;u.position=y.style.position;u.parent&&u.parent.removeChild(y)}d(b).data("blockUI.onUnblock",f.onUnblock);var u=f.baseZ,H;H=l||f.forceIframe?d('<iframe class="blockUI" style="z-index:'+u++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+f.iframeSrc+'"></iframe>'):d('<div class="blockUI" style="display:none"></div>');
y=f.theme?d('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+u++ +';display:none"></div>'):d('<div class="blockUI blockOverlay" style="z-index:'+u++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');f.theme&&w?(u='<div class="blockUI '+f.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:fixed">',f.title&&(u+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+
(f.title||"&nbsp;")+"</div>"),u+='<div class="ui-widget-content ui-dialog-content"></div></div>'):f.theme?(u='<div class="blockUI '+f.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:absolute">',f.title&&(u+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(f.title||"&nbsp;")+"</div>"),u+='<div class="ui-widget-content ui-dialog-content"></div>',u+="</div>"):u=w?'<div class="blockUI '+f.blockMsgClass+' blockPage" style="z-index:'+
(u+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+f.blockMsgClass+' blockElement" style="z-index:'+(u+10)+';display:none;position:absolute"></div>';u=d(u);q&&(f.theme?(u.css(t),u.addClass("ui-widget-content")):u.css(g));f.theme||y.css(f.overlayCSS);y.css("position",w?"fixed":"absolute");(l||f.forceIframe)&&H.css("opacity",0);g=[H,y,u];var M=w?d("body"):d(b);d.each(g,function(){this.appendTo(M)});f.theme&&f.draggable&&d.fn.draggable&&u.draggable({handle:".ui-dialog-titlebar",cancel:"li"});
t=k&&(!d.support.boxModel||0<d("object,embed",w?null:b).length);if(x||t){w&&f.allowBodyStretch&&d.support.boxModel&&d("html,body").css("height","100%");if((x||!d.support.boxModel)&&!w){t=parseInt(d.css(b,"borderTopWidth"),10)||0;var U=parseInt(d.css(b,"borderLeftWidth"),10)||0,I=t?"(0 - "+t+")":0,P=U?"(0 - "+U+")":0}d.each(g,function(a,c){var b=c[0].style;b.position="absolute";if(2>a)w?b.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+
f.quirksmodeOffsetHack+') + "px"'):b.setExpression("height",'this.parentNode.offsetHeight + "px"'),w?b.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):b.setExpression("width",'this.parentNode.offsetWidth + "px"'),P&&b.setExpression("left",P),I&&b.setExpression("top",I);else if(f.centerY)w&&b.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),
b.marginTop=0;else if(!f.centerY&&w){var d="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(f.css&&f.css.top?parseInt(f.css.top,10):0)+') + "px"';b.setExpression("top",d)}})}q&&(f.theme?u.find(".ui-widget-content").append(q):u.append(q),(q.jquery||q.nodeType)&&d(q).show());(l||f.forceIframe)&&f.showOverlay&&H.show();if(f.fadeIn)g=f.onBlock?f.onBlock:h,H=f.showOverlay&&!q?g:h,g=q?g:h,f.showOverlay&&y._fadeIn(f.fadeIn,H),q&&u._fadeIn(f.fadeIn,
g);else if(f.showOverlay&&y.show(),q&&u.show(),f.onBlock)f.onBlock();a(1,b,f);w?(B=u[0],r=d(f.focusableElements,B),f.focusInput&&setTimeout(c,20)):p(u[0],f.centerX,f.centerY);f.timeout&&(q=setTimeout(function(){w?d.unblockUI(f):d(b).unblock(f)},f.timeout),d(b).data("blockUI.timeout",q))}}function e(c,b){var h,p=c==window,e=d(c),l=e.data("blockUI.history"),k=e.data("blockUI.timeout");k&&(clearTimeout(k),e.removeData("blockUI.timeout"));b=d.extend({},d.blockUI.defaults,b||{});a(0,c,b);null===b.onUnblock&&
(b.onUnblock=e.data("blockUI.onUnblock"),e.removeData("blockUI.onUnblock"));var x;x=p?d("body").children().filter(".blockUI").add("body > .blockUI"):e.find(">.blockUI");b.cursorReset&&(1<x.length&&(x[1].style.cursor=b.cursorReset),2<x.length&&(x[2].style.cursor=b.cursorReset));p&&(B=r=null);b.fadeOut?(h=x.length,x.stop().fadeOut(b.fadeOut,function(){0===--h&&f(x,l,b,c)})):f(x,l,b,c)}function f(a,c,b,h){var f=d(h);if(!f.data("blockUI.isBlocked")){a.each(function(a,c){this.parentNode&&this.parentNode.removeChild(this)});
c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.parent&&c.parent.appendChild(c.el),f.removeData("blockUI.history"));f.data("blockUI.static")&&f.css("position","static");if("function"==typeof b.onUnblock)b.onUnblock(h,b);a=d(document.body);c=a.width();b=a[0].style.width;a.width(c-1).width(c);a[0].style.width=b}}function a(a,c,h){var f=c==window;c=d(c);if(a||(!f||B)&&(f||c.data("blockUI.isBlocked")))c.data("blockUI.isBlocked",a),f&&h.bindEvents&&(!a||h.showOverlay)&&(a?d(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",
h,b):d(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",b))}function b(a){if("keydown"===a.type&&a.keyCode&&9==a.keyCode&&B&&a.data.constrainTabKey){var b=r,h=a.shiftKey&&a.target===b[0];if(!a.shiftKey&&a.target===b[b.length-1]||h)return setTimeout(function(){c(h)},10),!1}var b=a.data,f=d(a.target);if(f.hasClass("blockOverlay")&&b.onOverlayClick)b.onOverlayClick(a);return 0<f.parents("div."+b.blockMsgClass).length?!0:0===f.parents().children().filter("div.blockUI").length}
function c(a){r&&(a=r[!0===a?r.length-1:0])&&a.focus()}function p(a,c,b){var h=a.parentNode,f=a.style,p=(h.offsetWidth-a.offsetWidth)/2-(parseInt(d.css(h,"borderLeftWidth"),10)||0);a=(h.offsetHeight-a.offsetHeight)/2-(parseInt(d.css(h,"borderTopWidth"),10)||0);c&&(f.left=0<p?p+"px":"0");b&&(f.top=0<a?a+"px":"0")}d.fn._fadeIn=d.fn.fadeIn;var h=d.noop||function(){},l=/MSIE/.test(navigator.userAgent),x=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),k=d.isFunction(document.createElement("div").style.setExpression);
d.blockUI=function(a){g(window,a)};d.unblockUI=function(a){e(window,a)};d.growlUI=function(a,c,b,h){var f=d('<div class="growlUI"></div>');a&&f.append("<h1>"+a+"</h1>");c&&f.append("<h2>"+c+"</h2>");void 0===b&&(b=3E3);var p=function(a){a=a||{};d.blockUI({message:f,fadeIn:"undefined"!==typeof a.fadeIn?a.fadeIn:700,fadeOut:"undefined"!==typeof a.fadeOut?a.fadeOut:1E3,timeout:"undefined"!==typeof a.timeout?a.timeout:b,centerY:!1,showOverlay:!1,onUnblock:h,css:d.blockUI.defaults.growlCSS})};p();f.css("opacity");
f.mouseover(function(){p({fadeIn:0,timeout:3E4});var a=d(".blockMsg");a.stop();a.fadeTo(300,1)}).mouseout(function(){d(".blockMsg").fadeOut(1E3)})};d.fn.block=function(a){if(this[0]===window)return d.blockUI(a),this;var c=d.extend({},d.blockUI.defaults,a||{});this.each(function(){var a=d(this);c.ignoreIfBlocked&&a.data("blockUI.isBlocked")||a.unblock({fadeOut:0})});return this.each(function(){"static"==d.css(this,"position")&&(this.style.position="relative",d(this).data("blockUI.static",!0));this.style.zoom=
1;g(this,a)})};d.fn.unblock=function(a){return this[0]===window?(d.unblockUI(a),this):this.each(function(){e(this,a)})};d.blockUI.version=2.66;d.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",
growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1E3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",
onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var B=null,r=[]}"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],d):d(jQuery)})();(function(d,m,g){function e(a,c,b){a=m.createElement(a);return c&&(a.id=E+c),b&&(a.style.cssText=b),d(a)}function f(){return g.innerHeight?g.innerHeight:d(g).height()}function a(a,c){c!==Object(c)&&(c={});this.cache={};this.el=a;this.value=function(a){var b;return void 0===this.cache[a]&&(b=d(this.el).attr("data-cbox-"+a),void 0!==b?this.cache[a]=b:void 0!==c[a]?this.cache[a]=c[a]:void 0!==ia[a]&&(this.cache[a]=ia[a])),this.cache[a]};this.get=function(a){a=this.value(a);return d.isFunction(a)?a.call(this.el,
this):a}}function b(a){var c=I.length;a=(K+a)%c;return 0>a?c+a:a}function c(a,c){return Math.round((/%/.test(a)?("x"===c?P.width():f())/100:1)*parseInt(a,10))}function p(a,c){return a.get("photo")||a.get("photoRegex").test(c)}function h(a,c){return a.get("retinaUrl")&&1<g.devicePixelRatio?c.replace(a.get("photoRegex"),a.get("retinaSuffix")):c}function l(a){"contains"in w[0]&&!w[0].contains(a.target)&&a.target!==t[0]&&(a.stopPropagation(),w.focus())}function x(a){x.str!==a&&(w.add(t).removeClass(x.str).addClass(a),
x.str=a)}function k(c){K=0;c&&!1!==c&&"nofollow"!==c?(I=d("."+X).filter(function(){var b=d.data(this,R);return(new a(this,b)).get("rel")===c}),K=I.index(n.el),-1===K&&(I=I.add(n.el),K=I.length-1)):I=d(n.el)}function B(a){d(m).trigger(a);T.triggerHandler(a)}function r(b){var h;if(!V){if(h=d(b).data(R),n=new a(b,h),k(n.get("rel")),!S){S=W=!0;x(n.get("className"));w.css({visibility:"hidden",display:"block",opacity:""});J=e(F,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");y.css({width:"",
height:""}).append(J);O=u.height()+U.height()+y.outerHeight(!0)-y.height();N=H.width()+M.width()+y.outerWidth(!0)-y.width();Q=J.outerHeight(!0);D=J.outerWidth(!0);b=c(n.get("initialWidth"),"x");h=c(n.get("initialHeight"),"y");var f=n.get("maxWidth"),p=n.get("maxHeight");n.w=(!1!==f?Math.min(b,c(f,"x")):b)-D-N;n.h=(!1!==p?Math.min(h,c(p,"y")):h)-Q-O;J.css({width:"",height:n.h});G.position();B(qa);n.get("onOpen");L.add(ha).hide();w.focus();n.get("trapFocus")&&m.addEventListener&&(m.addEventListener("focus",
l,!0),T.one(ja,function(){m.removeEventListener("focus",l,!0)}));n.get("returnFocus")&&T.one(ja,function(){d(n.el).focus()})}b=parseFloat(n.get("opacity"));t.css({opacity:b===b?b:"",cursor:n.get("overlayClose")?"pointer":"",visibility:"visible"}).show();n.get("closeButton")?da.html(n.get("close")).appendTo(y):da.appendTo("<div/>");z()}}function v(){w||(ka=!1,P=d(g),w=e(F).attr({id:R,"class":!1===d.support.opacity?E+"IE":"",role:"dialog",tabindex:"-1"}).hide(),t=e(F,"Overlay").hide(),ca=d([e(F,"LoadingOverlay")[0],
e(F,"LoadingGraphic")[0]]),q=e(F,"Wrapper"),y=e(F,"Content").append(ha=e(F,"Title"),la=e(F,"Current"),aa=d('<button type="button"/>').attr({id:E+"Previous"}),ba=d('<button type="button"/>').attr({id:E+"Next"}),Y=e("button","Slideshow"),ca),da=d('<button type="button"/>').attr({id:E+"Close"}),q.append(e(F).append(e(F,"TopLeft"),u=e(F,"TopCenter"),e(F,"TopRight")),e(F,!1,"clear:left").append(H=e(F,"MiddleLeft"),y,M=e(F,"MiddleRight")),e(F,!1,"clear:left").append(e(F,"BottomLeft"),U=e(F,"BottomCenter"),
e(F,"BottomRight"))).find("div div").css({"float":"left"}),Z=e(F,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),L=ba.add(aa).add(la).add(Y));m.body&&!w.parent().length&&d(m.body).append(t,w.append(q,Z))}function A(){function a(c){1<c.which||c.shiftKey||c.altKey||c.metaKey||c.ctrlKey||(c.preventDefault(),r(this))}return w?(ka||(ka=!0,ba.click(function(){G.next()}),aa.click(function(){G.prev()}),da.click(function(){G.close()}),t.click(function(){n.get("overlayClose")&&
G.close()}),d(m).bind("keydown."+E,function(a){var c=a.keyCode;S&&n.get("escKey")&&27===c&&(a.preventDefault(),G.close());S&&n.get("arrowKey")&&I[1]&&!a.altKey&&(37===c?(a.preventDefault(),aa.click()):39===c&&(a.preventDefault(),ba.click()))}),d.isFunction(d.fn.on)?d(m).on("click."+E,"."+X,a):d("."+X).live("click."+E,a)),!0):!1}function z(){var a,b,f,l=G.prep,k=++ma;if(W=!0,C=!1,B(ea),B(fa),n.get("onLoad"),n.h=n.get("height")?c(n.get("height"),"y")-Q-O:n.get("innerHeight")&&c(n.get("innerHeight"),
"y"),n.w=n.get("width")?c(n.get("width"),"x")-D-N:n.get("innerWidth")&&c(n.get("innerWidth"),"x"),n.mw=n.w,n.mh=n.h,n.get("maxWidth")&&(n.mw=c(n.get("maxWidth"),"x")-D-N,n.mw=n.w&&n.w<n.mw?n.w:n.mw),n.get("maxHeight")&&(n.mh=c(n.get("maxHeight"),"y")-Q-O,n.mh=n.h&&n.h<n.mh?n.h:n.mh),a=n.get("href"),oa=setTimeout(function(){ca.show()},100),n.get("inline")){var y=d(a);f=d("<div>").hide().insertBefore(y);T.one(ea,function(){f.replaceWith(y)});l(y)}else n.get("iframe")?l(" "):n.get("html")?l(n.get("html")):
p(n,a)?(a=h(n,a),C=n.get("createImg"),d(C).addClass(E+"Photo").bind("error."+E,function(){l(e(F,"Error").html(n.get("imgError")))}).one("load",function(){k===ma&&setTimeout(function(){var a;n.get("retinaImage")&&1<g.devicePixelRatio&&(C.height/=g.devicePixelRatio,C.width/=g.devicePixelRatio);n.get("scalePhotos")&&(b=function(){C.height-=C.height*a;C.width-=C.width*a},n.mw&&C.width>n.mw&&(a=(C.width-n.mw)/C.width,b()),n.mh&&C.height>n.mh&&(a=(C.height-n.mh)/C.height,b()));n.h&&(C.style.marginTop=Math.max(n.mh-
C.height,0)/2+"px");I[1]&&(n.get("loop")||I[K+1])&&(C.style.cursor="pointer",d(C).bind("click."+E,function(){G.next()}));C.style.width=C.width+"px";C.style.height=C.height+"px";l(C)},1)}),C.src=a):a&&Z.load(a,n.get("data"),function(a,c){k===ma&&l("error"===c?e(F,"Error").html(n.get("xhrError")):d(this).contents())})}var t,w,q,y,u,H,M,U,I,P,J,Z,ca,ha,la,Y,ba,aa,da,L,n,O,N,Q,D,K,C,S,W,V,oa,G,ka,ia={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",
innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,
retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This Product is NOT available.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title},createImg:function(){var a=new Image,c=d(this).data("cbox-img-attrs");return"object"==typeof c&&d.each(c,
function(c,b){a[c]=b}),a},createIframe:function(){var a=m.createElement("iframe"),c=d(this).data("cbox-iframe-attrs");return"object"==typeof c&&d.each(c,function(c,b){a[c]=b}),"frameBorder"in a&&(a.frameBorder=0),"allowTransparency"in a&&(a.allowTransparency="true"),a.name=(new Date).getTime(),a.allowFullscreen=!0,a}},R="colorbox",E="cbox",X=E+"Element",qa=E+"_open",fa=E+"_load",ga=E+"_complete",na=E+"_cleanup",ja=E+"_closed",ea=E+"_purge",T=d("<a/>"),F="div",ma=0,pa={},ra=function(){function a(){clearTimeout(p)}
function c(){(n.get("loop")||I[K+1])&&(a(),p=setTimeout(G.next,n.get("slideshowSpeed")))}function b(){Y.html(n.get("slideshowStop")).unbind(l).one(l,d);T.bind(ga,c).bind(fa,a);w.removeClass(e+"off").addClass(e+"on")}function d(){a();T.unbind(ga,c).unbind(fa,a);Y.html(n.get("slideshowStart")).unbind(l).one(l,function(){G.next();b()});w.removeClass(e+"on").addClass(e+"off")}function h(){f=!1;Y.hide();a();T.unbind(ga,c).unbind(fa,a);w.removeClass(e+"off "+e+"on")}var f,p,e=E+"Slideshow_",l="click."+
E;return function(){f?n.get("slideshow")||(T.unbind(na,h),h()):n.get("slideshow")&&I[1]&&(f=!0,T.one(na,h),n.get("slideshowAuto")?b():d(),Y.show())}}();d[R]||(d(v),G=d.fn[R]=d[R]=function(c,b){var h,f=this;return c=c||{},d.isFunction(f)&&(f=d("<a/>"),c.open=!0),f[0]?(v(),A()&&(b&&(c.onComplete=b),f.each(function(){var a=d.data(this,R)||{};d.data(this,R,d.extend(a,c))}).addClass(X),h=new a(f[0],c),h.get("open")&&r(f[0])),f):f},G.position=function(a,b){function h(){u[0].style.width=U[0].style.width=
y[0].style.width=parseInt(w[0].style.width,10)-N+"px";y[0].style.height=H[0].style.height=M[0].style.height=parseInt(w[0].style.height,10)-O+"px"}var p,e,l,k=0,x=0,g=w.offset();if(P.unbind("resize."+E),w.css({top:-9E4,left:-9E4}),e=P.scrollTop(),l=P.scrollLeft(),n.get("fixed")?(g.top-=e,g.left-=l,w.css({position:"fixed"})):(k=e,x=l,w.css({position:"absolute"})),x+=!1!==n.get("right")?Math.max(P.width()-n.w-D-N-c(n.get("right"),"x"),0):!1!==n.get("left")?c(n.get("left"),"x"):Math.round(Math.max(P.width()-
n.w-D-N,0)/2),k+=!1!==n.get("bottom")?Math.max(f()-n.h-Q-O-c(n.get("bottom"),"y"),0):!1!==n.get("top")?c(n.get("top"),"y"):Math.round(Math.max(f()-n.h-Q-O,0)/2),w.css({top:g.top,left:g.left,visibility:"visible"}),q[0].style.width=q[0].style.height="9999px",p={width:n.w+D+N,height:n.h+Q+O,top:k,left:x},a){var B=0;d.each(p,function(c){return p[c]!==pa[c]?(B=a,void 0):void 0});a=B}pa=p;a||w.css(p);w.dequeue().animate(p,{duration:a||0,complete:function(){h();W=!1;q[0].style.width=n.w+D+N+"px";q[0].style.height=
n.h+Q+O+"px";n.get("reposition")&&setTimeout(function(){P.bind("resize."+E,G.position)},1);d.isFunction(b)&&b()},step:h})},G.resize=function(a){var b;S&&(a=a||{},a.width&&(n.w=c(a.width,"x")-D-N),a.innerWidth&&(n.w=c(a.innerWidth,"x")),J.css({width:n.w}),a.height&&(n.h=c(a.height,"y")-Q-O),a.innerHeight&&(n.h=c(a.innerHeight,"y")),a.innerHeight||a.height||(b=J.scrollTop(),J.css({height:"auto"}),n.h=J.height()),J.css({height:n.h}),b&&J.scrollTop(b),G.position("none"===n.get("transition")?0:n.get("speed")))},
G.prep=function(c){if(S){var f,l="none"===n.get("transition")?0:n.get("speed");J.remove();J=e(F,"LoadedContent").append(c);J.hide().appendTo(Z.show()).css({width:(n.w=n.w||J.width(),n.w=n.mw&&n.mw<n.w?n.mw:n.w,n.w),overflow:n.get("scrolling")?"auto":"hidden"}).css({height:(n.h=n.h||J.height(),n.h=n.mh&&n.mh<n.h?n.mh:n.h,n.h)}).prependTo(y);Z.hide();d(C).css({"float":"none"});x(n.get("className"));f=function(){function c(){!1===d.support.opacity&&w[0].style.removeAttribute("filter")}var f,e,k=I.length;
S&&(e=function(){clearTimeout(oa);ca.hide();B(ga);n.get("onComplete")},ha.html(n.get("title")).show(),J.show(),1<k?("string"==typeof n.get("current")&&la.html(n.get("current").replace("{current}",K+1).replace("{total}",k)).show(),ba[n.get("loop")||k-1>K?"show":"hide"]().html(n.get("next")),aa[n.get("loop")||K?"show":"hide"]().html(n.get("previous")),ra(),n.get("preloading")&&d.each([b(-1),b(1)],function(){var c,b=I[this],b=new a(b,d.data(b,R)),f=b.get("href");f&&p(b,f)&&(f=h(b,f),c=m.createElement("img"),
c.src=f)})):L.hide(),n.get("iframe")?(f=n.get("createIframe"),n.get("scrolling")||(f.scrolling="no"),d(f).attr({src:n.get("href"),"class":E+"Iframe"}).one("load",e).appendTo(J),T.one(ea,function(){f.src="//about:blank"}),n.get("fastIframe")&&d(f).trigger("load")):e(),"fade"===n.get("transition")?w.fadeTo(l,1,c):c())};"fade"===n.get("transition")?w.fadeTo(l,0,function(){G.position(0,f)}):G.position(l,f)}},G.next=function(){!W&&I[1]&&(n.get("loop")||I[K+1])&&(K=b(1),r(I[K]))},G.prev=function(){!W&&
I[1]&&(n.get("loop")||K)&&(K=b(-1),r(I[K]))},G.close=function(){S&&!V&&(V=!0,S=!1,B(na),n.get("onCleanup"),P.unbind("."+E),t.fadeTo(n.get("fadeOut")||0,0),w.stop().fadeTo(n.get("fadeOut")||0,0,function(){w.hide();t.hide();B(ea);J.remove();setTimeout(function(){V=!1;B(ja);n.get("onClosed")},1)}))},G.remove=function(){w&&(w.stop(),d[R].close(),w.stop(!1,!0).remove(),t.remove(),V=!1,w=null,d("."+X).removeData(R).removeClass(X),d(m).unbind("click."+E).unbind("keydown."+E))},G.element=function(){return d(n.el)},
G.settings=ia)})(jQuery,document,window);!function(d){"function"==typeof define&&define.amd?define(["jquery"],d):"object"==typeof exports?d(require("jquery")):d(jQuery)}(function(d){function m(a){a=f.json?JSON.stringify(a):String(a);return f.raw?a:encodeURIComponent(a)}function g(a,b){var c;if(f.raw)c=a;else a:{var p=a;0===p.indexOf('"')&&(p=p.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{c=(p=decodeURIComponent(p.replace(e," ")),f.json?JSON.parse(p):p);break a}catch(h){}c=void 0}return d.isFunction(b)?b(c):c}var e=/\+/g,f=
d.cookie=function(a,b,c){if(void 0!==b&&!d.isFunction(b)){if(c=d.extend({},f.defaults,c),"number"==typeof c.expires){var p=c.expires,h=c.expires=new Date;h.setTime(+h+864E5*p)}return document.cookie=[f.raw?a:encodeURIComponent(a),"=",m(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=a?void 0:{};for(var p=document.cookie?document.cookie.split("; "):[],h=0,e=p.length;e>h;h++){var x=p[h].split("="),k;
k=x.shift();k=f.raw?k:decodeURIComponent(k);x=x.join("=");if(a&&a===k){c=g(x,b);break}a||void 0===(x=g(x))||(c[k]=x)}return c};f.defaults={};d.removeCookie=function(a,b){return void 0===d.cookie(a)?!1:(d.cookie(a,"",d.extend({},b,{expires:-1})),!d.cookie(a))}});"function"!==typeof Object.create&&(Object.create=function(d){function m(){}m.prototype=d;return new m});
(function(d,m,g,e){var f={init:function(a,b){var c=this;c.elem=b;c.$elem=d(b);c.imageSrc=c.$elem.data("zoom-image")?c.$elem.data("zoom-image"):c.$elem.attr("src");c.options=d.extend({},d.fn.elevateZoom.options,a);c.options.tint&&(c.options.lensColour="none",c.options.lensOpacity="1");"inner"==c.options.zoomType&&(c.options.showLens=!1);c.$elem.parent().removeAttr("title").removeAttr("alt");c.zoomImage=c.imageSrc;c.refresh(1);d("#"+c.options.gallery+" a").click(function(a){c.options.galleryActiveClass&&
(d("#"+c.options.gallery+" a").removeClass(c.options.galleryActiveClass),d(this).addClass(c.options.galleryActiveClass));a.preventDefault();d(this).data("zoom-image")?c.zoomImagePre=d(this).data("zoom-image"):c.zoomImagePre=d(this).data("image");c.swaptheimage(d(this).data("image"),c.zoomImagePre);return!1})},refresh:function(a){var b=this;setTimeout(function(){b.fetch(b.imageSrc)},a||b.options.refresh)},fetch:function(a){var b=this,c=new Image;c.onload=function(){b.largeWidth=c.width;b.largeHeight=
c.height;b.startZoom();b.currentImage=b.imageSrc;b.options.onZoomedImageLoaded(b.$elem)};c.src=a},startZoom:function(){var a=this;a.nzWidth=a.$elem.width();a.nzHeight=a.$elem.height();a.isWindowActive=!1;a.isLensActive=!1;a.isTintActive=!1;a.overWindow=!1;a.options.imageCrossfade&&(a.zoomWrap=a.$elem.wrap('<div style="height:'+a.nzHeight+"px;width:"+a.nzWidth+'px;" class="zoomWrapper" />'),a.$elem.css("position","absolute"));a.zoomLock=1;a.scrollingLock=!1;a.changeBgSize=!1;a.currentZoomLevel=a.options.zoomLevel;
a.nzOffset=a.$elem.offset();a.widthRatio=a.largeWidth/a.currentZoomLevel/a.nzWidth;a.heightRatio=a.largeHeight/a.currentZoomLevel/a.nzHeight;"window"==a.options.zoomType&&(a.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(a.options.zoomWindowBgColour)+";width: "+String(a.options.zoomWindowWidth)+"px;height: "+String(a.options.zoomWindowHeight)+"px;float: left;background-size: "+a.largeWidth/a.currentZoomLevel+"px "+a.largeHeight/a.currentZoomLevel+
"px;display: none;z-index:100;border: "+String(a.options.borderSize)+"px solid "+a.options.borderColour+";background-repeat: no-repeat; box-shadow:"+a.options.boxShadow+"; position: absolute;");if("inner"==a.options.zoomType){var b=a.$elem.css("border-left-width");a.zoomWindowStyle="overflow: hidden;margin-left: "+String(b)+";margin-top: "+String(b)+";background-position: 0px 0px;width: "+String(a.nzWidth)+"px;height: "+String(a.nzHeight)+"px;px;float: left;display: none;cursor:"+a.options.cursor+
";px solid "+a.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==a.options.zoomType&&(lensHeight=a.nzHeight<a.options.zoomWindowWidth/a.widthRatio?a.nzHeight:String(a.options.zoomWindowHeight/a.heightRatio),lensWidth=a.largeWidth<a.options.zoomWindowWidth?a.nzWidth:a.options.zoomWindowWidth/a.widthRatio,a.lensStyle="background-position: 0px 0px;width: "+String(a.options.zoomWindowWidth/a.widthRatio)+"px;height: "+String(a.options.zoomWindowHeight/a.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+
a.options.lensOpacity+";filter: alpha(opacity = "+100*a.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+a.options.lensColour+";cursor:"+a.options.cursor+";border: "+a.options.lensBorderSize+"px solid "+a.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;");a.tintStyle="display: block;position: absolute;background-color: "+a.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+a.nzWidth+"px;height: "+a.nzHeight+"px;";
a.lensRound="";"lens"==a.options.zoomType&&(a.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(a.options.borderSize)+"px solid "+a.options.borderColour+";width:"+String(a.options.lensSize)+"px;height:"+String(a.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;");"round"==a.options.lensShape&&(a.lensRound="border-top-left-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;border-top-right-radius: "+String(a.options.lensSize/2+a.options.borderSize)+
"px;border-bottom-left-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;border-bottom-right-radius: "+String(a.options.lensSize/2+a.options.borderSize)+"px;");a.zoomContainer=d('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+a.nzOffset.left+"px;top:"+a.nzOffset.top+"px;height:"+a.nzHeight+"px;width:"+a.nzWidth+'px;"></div>');d("body").append(a.zoomContainer);a.options.containLensZoom&&"lens"==a.options.zoomType&&a.zoomContainer.css("overflow",
"hidden");"inner"!=a.options.zoomType&&(a.zoomLens=d("<div class='zoomLens' style='"+a.lensStyle+a.lensRound+"'>&nbsp;</div>").appendTo(a.zoomContainer).click(function(){a.$elem.trigger("click")}),a.options.tint&&(a.tintContainer=d("<div/>").addClass("tintContainer"),a.zoomTint=d("<div class='zoomTint' style='"+a.tintStyle+"'></div>"),a.zoomLens.wrap(a.tintContainer),a.zoomTintcss=a.zoomLens.after(a.zoomTint),a.zoomTintImage=d('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+
a.nzWidth+"px; height: "+a.nzHeight+'px;" src="'+a.imageSrc+'">').appendTo(a.zoomLens).click(function(){a.$elem.trigger("click")})));isNaN(a.options.zoomWindowPosition)?a.zoomWindow=d("<div style='z-index:999;left:"+a.windowOffsetLeft+"px;top:"+a.windowOffsetTop+"px;"+a.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){a.$elem.trigger("click")}):a.zoomWindow=d("<div style='z-index:999;left:"+a.windowOffsetLeft+"px;top:"+a.windowOffsetTop+"px;"+a.zoomWindowStyle+
"' class='zoomWindow'>&nbsp;</div>").appendTo(a.zoomContainer).click(function(){a.$elem.trigger("click")});a.zoomWindowContainer=d("<div/>").addClass("zoomWindowContainer").css("width",a.options.zoomWindowWidth);a.zoomWindow.wrap(a.zoomWindowContainer);"lens"==a.options.zoomType&&a.zoomLens.css({backgroundImage:"url('"+a.imageSrc+"')"});"window"==a.options.zoomType&&a.zoomWindow.css({backgroundImage:"url('"+a.imageSrc+"')"});"inner"==a.options.zoomType&&a.zoomWindow.css({backgroundImage:"url('"+a.imageSrc+
"')"});a.$elem.bind("touchmove",function(c){c.preventDefault();a.setPosition(c.originalEvent.touches[0]||c.originalEvent.changedTouches[0])});a.zoomContainer.bind("touchmove",function(c){"inner"==a.options.zoomType&&a.showHideWindow("show");c.preventDefault();a.setPosition(c.originalEvent.touches[0]||c.originalEvent.changedTouches[0])});a.zoomContainer.bind("touchend",function(c){a.showHideWindow("hide");a.options.showLens&&a.showHideLens("hide");a.options.tint&&"inner"!=a.options.zoomType&&a.showHideTint("hide")});
a.$elem.bind("touchend",function(c){a.showHideWindow("hide");a.options.showLens&&a.showHideLens("hide");a.options.tint&&"inner"!=a.options.zoomType&&a.showHideTint("hide")});a.options.showLens&&(a.zoomLens.bind("touchmove",function(c){c.preventDefault();a.setPosition(c.originalEvent.touches[0]||c.originalEvent.changedTouches[0])}),a.zoomLens.bind("touchend",function(c){a.showHideWindow("hide");a.options.showLens&&a.showHideLens("hide");a.options.tint&&"inner"!=a.options.zoomType&&a.showHideTint("hide")}));
a.$elem.bind("mousemove",function(c){0==a.overWindow&&a.setElements("show");if(a.lastX!==c.clientX||a.lastY!==c.clientY)a.setPosition(c),a.currentLoc=c;a.lastX=c.clientX;a.lastY=c.clientY});a.zoomContainer.bind("mousemove",function(c){0==a.overWindow&&a.setElements("show");if(a.lastX!==c.clientX||a.lastY!==c.clientY)a.setPosition(c),a.currentLoc=c;a.lastX=c.clientX;a.lastY=c.clientY});"inner"!=a.options.zoomType&&a.zoomLens.bind("mousemove",function(c){if(a.lastX!==c.clientX||a.lastY!==c.clientY)a.setPosition(c),
a.currentLoc=c;a.lastX=c.clientX;a.lastY=c.clientY});a.options.tint&&"inner"!=a.options.zoomType&&a.zoomTint.bind("mousemove",function(c){if(a.lastX!==c.clientX||a.lastY!==c.clientY)a.setPosition(c),a.currentLoc=c;a.lastX=c.clientX;a.lastY=c.clientY});"inner"==a.options.zoomType&&a.zoomWindow.bind("mousemove",function(c){if(a.lastX!==c.clientX||a.lastY!==c.clientY)a.setPosition(c),a.currentLoc=c;a.lastX=c.clientX;a.lastY=c.clientY});a.zoomContainer.add(a.$elem).mouseenter(function(){0==a.overWindow&&
a.setElements("show")}).mouseleave(function(){a.scrollLock||(a.setElements("hide"),a.options.onDestroy(a.$elem))});"inner"!=a.options.zoomType&&a.zoomWindow.mouseenter(function(){a.overWindow=!0;a.setElements("hide")}).mouseleave(function(){a.overWindow=!1});a.minZoomLevel=a.options.minZoomLevel?a.options.minZoomLevel:2*a.options.scrollZoomIncrement;a.options.scrollZoom&&a.zoomContainer.add(a.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(c){a.scrollLock=!0;clearTimeout(d.data(this,
"timer"));d.data(this,"timer",setTimeout(function(){a.scrollLock=!1},250));var b=c.originalEvent.wheelDelta||-1*c.originalEvent.detail;c.stopImmediatePropagation();c.stopPropagation();c.preventDefault();0<b/120?a.currentZoomLevel>=a.minZoomLevel&&a.changeZoomLevel(a.currentZoomLevel-a.options.scrollZoomIncrement):a.options.maxZoomLevel?a.currentZoomLevel<=a.options.maxZoomLevel&&a.changeZoomLevel(parseFloat(a.currentZoomLevel)+a.options.scrollZoomIncrement):a.changeZoomLevel(parseFloat(a.currentZoomLevel)+
a.options.scrollZoomIncrement);return!1})},setElements:function(a){if(!this.options.zoomEnabled)return!1;"show"==a&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show"));"hide"==a&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),
this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(a){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height();this.nzWidth=this.$elem.width();this.nzOffset=this.$elem.offset();this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0}));this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?
this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.nzWidth<this.options.zoomWindowHeight/this.heightRatio?
this.nzWidth:String(this.options.zoomWindowWidth/this.widthRatio),this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"}));this.zoomContainer.css({top:this.nzOffset.top});this.zoomContainer.css({left:this.nzOffset.left});this.mouseLeft=
parseInt(a.pageX-this.nzOffset.left);this.mouseTop=parseInt(a.pageY-this.nzOffset.top);"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize);"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,
this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize);0>this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(Math.floor(this.mouseLeft-this.zoomLens.width()/2)),this.lensTopPos=String(Math.floor(this.mouseTop-
this.zoomLens.height()/2))),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&
(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((a.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((a.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/
this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(a)),
this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(a),"window"==this.options.zoomType&&this.setWindowPostition(a),"inner"==this.options.zoomType&&this.setWindowPostition(a),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(a){var b=this;"show"!=a||b.isWindowActive||(b.options.zoomWindowFadeIn?b.zoomWindow.stop(!0,!0,!1).fadeIn(b.options.zoomWindowFadeIn):
b.zoomWindow.show(),b.isWindowActive=!0);"hide"==a&&b.isWindowActive&&(b.options.zoomWindowFadeOut?b.zoomWindow.stop(!0,!0).fadeOut(b.options.zoomWindowFadeOut,function(){b.loop&&(clearInterval(b.loop),b.loop=!1)}):b.zoomWindow.hide(),b.isWindowActive=!1)},showHideLens:function(a){"show"!=a||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0);"hide"==a&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,
!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(a){"show"!=a||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0);"hide"==a&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),
this.isTintActive=!1)},setLensPostition:function(a){},setWindowPostition:function(a){var b=this;if(isNaN(b.options.zoomWindowPosition))b.externalContainer=d("#"+b.options.zoomWindowPosition),b.externalContainerWidth=b.externalContainer.width(),b.externalContainerHeight=b.externalContainer.height(),b.externalContainerOffset=b.externalContainer.offset(),b.windowOffsetTop=b.externalContainerOffset.top,b.windowOffsetLeft=b.externalContainerOffset.left;else switch(b.options.zoomWindowPosition){case 1:b.windowOffsetTop=
b.options.zoomWindowOffety;b.windowOffsetLeft=+b.nzWidth;break;case 2:b.options.zoomWindowHeight>b.nzHeight&&(b.windowOffsetTop=-1*(b.options.zoomWindowHeight/2-b.nzHeight/2),b.windowOffsetLeft=b.nzWidth);break;case 3:b.windowOffsetTop=b.nzHeight-b.zoomWindow.height()-2*b.options.borderSize;b.windowOffsetLeft=b.nzWidth;break;case 4:b.windowOffsetTop=b.nzHeight;b.windowOffsetLeft=b.nzWidth;break;case 5:b.windowOffsetTop=b.nzHeight;b.windowOffsetLeft=b.nzWidth-b.zoomWindow.width()-2*b.options.borderSize;
break;case 6:b.options.zoomWindowHeight>b.nzHeight&&(b.windowOffsetTop=b.nzHeight,b.windowOffsetLeft=-1*(b.options.zoomWindowWidth/2-b.nzWidth/2+2*b.options.borderSize));break;case 7:b.windowOffsetTop=b.nzHeight;b.windowOffsetLeft=0;break;case 8:b.windowOffsetTop=b.nzHeight;b.windowOffsetLeft=-1*(b.zoomWindow.width()+2*b.options.borderSize);break;case 9:b.windowOffsetTop=b.nzHeight-b.zoomWindow.height()-2*b.options.borderSize;b.windowOffsetLeft=-1*(b.zoomWindow.width()+2*b.options.borderSize);break;
case 10:b.options.zoomWindowHeight>b.nzHeight&&(b.windowOffsetTop=-1*(b.options.zoomWindowHeight/2-b.nzHeight/2),b.windowOffsetLeft=-1*(b.zoomWindow.width()+2*b.options.borderSize));break;case 11:b.windowOffsetTop=b.options.zoomWindowOffety;b.windowOffsetLeft=-1*(b.zoomWindow.width()+2*b.options.borderSize);break;case 12:b.windowOffsetTop=-1*(b.zoomWindow.height()+2*b.options.borderSize);b.windowOffsetLeft=-1*(b.zoomWindow.width()+2*b.options.borderSize);break;case 13:b.windowOffsetTop=-1*(b.zoomWindow.height()+
2*b.options.borderSize);b.windowOffsetLeft=0;break;case 14:b.options.zoomWindowHeight>b.nzHeight&&(b.windowOffsetTop=-1*(b.zoomWindow.height()+2*b.options.borderSize),b.windowOffsetLeft=-1*(b.options.zoomWindowWidth/2-b.nzWidth/2+2*b.options.borderSize));break;case 15:b.windowOffsetTop=-1*(b.zoomWindow.height()+2*b.options.borderSize);b.windowOffsetLeft=b.nzWidth-b.zoomWindow.width()-2*b.options.borderSize;break;case 16:b.windowOffsetTop=-1*(b.zoomWindow.height()+2*b.options.borderSize);b.windowOffsetLeft=
b.nzWidth;break;default:b.windowOffsetTop=b.options.zoomWindowOffety,b.windowOffsetLeft=b.nzWidth}b.isWindowSet=!0;b.windowOffsetTop+=b.options.zoomWindowOffety;b.windowOffsetLeft+=b.options.zoomWindowOffetx;b.zoomWindow.css({top:b.windowOffsetTop});b.zoomWindow.css({left:b.windowOffsetLeft});"inner"==b.options.zoomType&&(b.zoomWindow.css({top:0}),b.zoomWindow.css({left:0}));b.windowLeftPos=String(-1*((a.pageX-b.nzOffset.left)*b.widthRatio-b.zoomWindow.width()/2));b.windowTopPos=String(-1*((a.pageY-
b.nzOffset.top)*b.heightRatio-b.zoomWindow.height()/2));b.Etoppos&&(b.windowTopPos=0);b.Eloppos&&(b.windowLeftPos=0);b.Eboppos&&(b.windowTopPos=-1*(b.largeHeight/b.currentZoomLevel-b.zoomWindow.height()));b.Eroppos&&(b.windowLeftPos=-1*(b.largeWidth/b.currentZoomLevel-b.zoomWindow.width()));b.fullheight&&(b.windowTopPos=0);b.fullwidth&&(b.windowLeftPos=0);if("window"==b.options.zoomType||"inner"==b.options.zoomType)1==b.zoomLock&&(1>=b.widthRatio&&(b.windowLeftPos=0),1>=b.heightRatio&&(b.windowTopPos=
0)),"window"==b.options.zoomType&&(b.largeHeight<b.options.zoomWindowHeight&&(b.windowTopPos=0),b.largeWidth<b.options.zoomWindowWidth&&(b.windowLeftPos=0)),b.options.easing?(b.xp||(b.xp=0),b.yp||(b.yp=0),b.loop||(b.loop=setInterval(function(){b.xp+=(b.windowLeftPos-b.xp)/b.options.easingAmount;b.yp+=(b.windowTopPos-b.yp)/b.options.easingAmount;b.scrollingLock?(clearInterval(b.loop),b.xp=b.windowLeftPos,b.yp=b.windowTopPos,b.xp=-1*((a.pageX-b.nzOffset.left)*b.widthRatio-b.zoomWindow.width()/2),b.yp=
-1*((a.pageY-b.nzOffset.top)*b.heightRatio-b.zoomWindow.height()/2),b.changeBgSize&&(b.nzHeight>b.nzWidth?("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"})):("lens"!=b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvalueheight+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/
b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"})),b.changeBgSize=!1),b.zoomWindow.css({backgroundPosition:b.windowLeftPos+"px "+b.windowTopPos+"px"}),b.scrollingLock=!1,b.loop=!1):1>Math.round(Math.abs(b.xp-b.windowLeftPos)+Math.abs(b.yp-b.windowTopPos))?(clearInterval(b.loop),b.zoomWindow.css({backgroundPosition:b.windowLeftPos+"px "+b.windowTopPos+"px"}),b.loop=!1):(b.changeBgSize&&(b.nzHeight>b.nzWidth?("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvalueheight+
"px "+b.largeHeight/b.newvalueheight+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"})):("lens"!=b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"})),b.changeBgSize=!1),b.zoomWindow.css({backgroundPosition:b.xp+"px "+b.yp+"px"}))},16))):(b.changeBgSize&&
(b.nzHeight>b.nzWidth?("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"}),b.zoomWindow.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"})):("lens"==b.options.zoomType&&b.zoomLens.css({"background-size":b.largeWidth/b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"}),b.largeHeight/b.newvaluewidth<b.options.zoomWindowHeight?b.zoomWindow.css({"background-size":b.largeWidth/
b.newvaluewidth+"px "+b.largeHeight/b.newvaluewidth+"px"}):b.zoomWindow.css({"background-size":b.largeWidth/b.newvalueheight+"px "+b.largeHeight/b.newvalueheight+"px"})),b.changeBgSize=!1),b.zoomWindow.css({backgroundPosition:b.windowLeftPos+"px "+b.windowTopPos+"px"}))},setTintPosition:function(a){this.nzOffset=this.$elem.offset();this.tintpos=String(-1*(a.pageX-this.nzOffset.left-this.zoomLens.width()/2));this.tintposy=String(-1*(a.pageY-this.nzOffset.top-this.zoomLens.height()/2));this.Etoppos&&
(this.tintposy=0);this.Eloppos&&(this.tintpos=0);this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize));this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize));this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(a,b){var c=this,f=new Image;c.options.loadingIcon&&
(c.spinner=d("<div style=\"background: url('"+c.options.loadingIcon+"') no-repeat center;height:"+c.nzHeight+"px;width:"+c.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),c.$elem.after(c.spinner));c.options.onImageSwap(c.$elem);f.onload=function(){c.largeWidth=f.width;c.largeHeight=f.height;c.zoomImage=b;c.zoomWindow.css({"background-size":c.largeWidth+"px "+c.largeHeight+"px"});c.swapAction(a,b)};f.src=b},swapAction:function(a,b){var c=this,f=new Image;
f.onload=function(){c.nzHeight=f.height;c.nzWidth=f.width;c.options.onImageSwapComplete(c.$elem);c.doneCallback()};f.src=a;c.currentZoomLevel=c.options.zoomLevel;c.options.maxZoomLevel=!1;"lens"==c.options.zoomType&&c.zoomLens.css({backgroundImage:"url('"+b+"')"});"window"==c.options.zoomType&&c.zoomWindow.css({backgroundImage:"url('"+b+"')"});"inner"==c.options.zoomType&&c.zoomWindow.css({backgroundImage:"url('"+b+"')"});c.currentImage=b;if(c.options.imageCrossfade){var h=c.$elem,e=h.clone();c.$elem.attr("src",
a);c.$elem.after(e);e.stop(!0).fadeOut(c.options.imageCrossfade,function(){d(this).remove()});c.$elem.width("auto").removeAttr("width");c.$elem.height("auto").removeAttr("height");h.fadeIn(c.options.imageCrossfade);c.options.tint&&"inner"!=c.options.zoomType&&(h=c.zoomTintImage,e=h.clone(),c.zoomTintImage.attr("src",b),c.zoomTintImage.after(e),e.stop(!0).fadeOut(c.options.imageCrossfade,function(){d(this).remove()}),h.fadeIn(c.options.imageCrossfade),c.zoomTint.css({height:c.$elem.height()}),c.zoomTint.css({width:c.$elem.width()}));
c.zoomContainer.css("height",c.$elem.height());c.zoomContainer.css("width",c.$elem.width());"inner"!=c.options.zoomType||c.options.constrainType||(c.zoomWrap.parent().css("height",c.$elem.height()),c.zoomWrap.parent().css("width",c.$elem.width()),c.zoomWindow.css("height",c.$elem.height()),c.zoomWindow.css("width",c.$elem.width()))}else c.$elem.attr("src",a),c.options.tint&&(c.zoomTintImage.attr("src",b),c.zoomTintImage.attr("height",c.$elem.height()),c.zoomTintImage.css({height:c.$elem.height()}),
c.zoomTint.css({height:c.$elem.height()})),c.zoomContainer.css("height",c.$elem.height()),c.zoomContainer.css("width",c.$elem.width());c.options.imageCrossfade&&(c.zoomWrap.css("height",c.$elem.height()),c.zoomWrap.css("width",c.$elem.width()));c.options.constrainType&&("height"==c.options.constrainType&&(c.zoomContainer.css("height",c.options.constrainSize),c.zoomContainer.css("width","auto"),c.options.imageCrossfade?(c.zoomWrap.css("height",c.options.constrainSize),c.zoomWrap.css("width","auto"),
c.constwidth=c.zoomWrap.width()):(c.$elem.css("height",c.options.constrainSize),c.$elem.css("width","auto"),c.constwidth=c.$elem.width()),"inner"==c.options.zoomType&&(c.zoomWrap.parent().css("height",c.options.constrainSize),c.zoomWrap.parent().css("width",c.constwidth),c.zoomWindow.css("height",c.options.constrainSize),c.zoomWindow.css("width",c.constwidth)),c.options.tint&&(c.tintContainer.css("height",c.options.constrainSize),c.tintContainer.css("width",c.constwidth),c.zoomTint.css("height",c.options.constrainSize),
c.zoomTint.css("width",c.constwidth),c.zoomTintImage.css("height",c.options.constrainSize),c.zoomTintImage.css("width",c.constwidth))),"width"==c.options.constrainType&&(c.zoomContainer.css("height","auto"),c.zoomContainer.css("width",c.options.constrainSize),c.options.imageCrossfade?(c.zoomWrap.css("height","auto"),c.zoomWrap.css("width",c.options.constrainSize),c.constheight=c.zoomWrap.height()):(c.$elem.css("height","auto"),c.$elem.css("width",c.options.constrainSize),c.constheight=c.$elem.height()),
"inner"==c.options.zoomType&&(c.zoomWrap.parent().css("height",c.constheight),c.zoomWrap.parent().css("width",c.options.constrainSize),c.zoomWindow.css("height",c.constheight),c.zoomWindow.css("width",c.options.constrainSize)),c.options.tint&&(c.tintContainer.css("height",c.constheight),c.tintContainer.css("width",c.options.constrainSize),c.zoomTint.css("height",c.constheight),c.zoomTint.css("width",c.options.constrainSize),c.zoomTintImage.css("height",c.constheight),c.zoomTintImage.css("width",c.options.constrainSize))))},
doneCallback:function(){this.options.loadingIcon&&this.spinner.hide();this.nzOffset=this.$elem.offset();this.nzWidth=this.$elem.width();this.nzHeight=this.$elem.height();this.currentZoomLevel=this.options.zoomLevel;this.widthRatio=this.largeWidth/this.nzWidth;this.heightRatio=this.largeHeight/this.nzHeight;"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<
this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var a=this;a.gallerylist=[];a.options.gallery?d("#"+a.options.gallery+" a").each(function(){var b="";d(this).data("zoom-image")?b=d(this).data("zoom-image"):d(this).data("image")&&(b=d(this).data("image"));b==a.zoomImage?a.gallerylist.unshift({href:""+
b+"",title:d(this).find("img").attr("title")}):a.gallerylist.push({href:""+b+"",title:d(this).find("img").attr("title")})}):a.gallerylist.push({href:""+a.zoomImage+"",title:d(this).find("img").attr("title")});return a.gallerylist},changeZoomLevel:function(a){this.scrollingLock=!0;this.newvalue=parseFloat(a).toFixed(2);newvalue=parseFloat(a).toFixed(2);maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight);maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/
this.nzWidth*this.nzWidth);"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/
newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)));"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=
maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=
newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1));scrcontinue=!1;"inner"==this.options.zoomType&&(this.nzWidth>=this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)));"inner"!=
this.options.zoomType&&(scrcontinue=!0);scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=
this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),
this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth)));this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide();self.zoomLens&&self.zoomLens.hide();self.zoomTint&&self.zoomTint.hide()},changeState:function(a){"enable"==a&&(this.options.zoomEnabled=!0);"disable"==a&&(this.options.zoomEnabled=!1)}};d.fn.elevateZoom=function(a){return this.each(function(){var b=Object.create(f);b.init(a,this);d.data(this,"elevateZoom",b)})};d.fn.elevateZoom.options=
{zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:1,boxShadow:"0px 0px 7px 1px #888",showLens:!0,borderColour:"#888",
lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:d.noop,onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:d.noop,onImageSwapComplete:d.noop}})(jQuery,window,document);!function(d){"function"==typeof define&&define.amd?define(["jquery"],d):d("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(d){function m(a){var b=a.data;a.isDefaultPrevented()||(a.preventDefault(),d(a.target).ajaxSubmit(b))}function g(a){var b=a.target,f=d(b);if(!f.is("[type=submit],[type=image]")){b=f.closest("[type=submit]");if(0===b.length)return;b=b[0]}var e=this;if(e.clk=b,"image"==b.type)void 0!==a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):"function"==typeof d.fn.offset?(f=f.offset(),
e.clk_x=a.pageX-f.left,e.clk_y=a.pageY-f.top):(e.clk_x=a.pageX-b.offsetLeft,e.clk_y=a.pageY-b.offsetTop);setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}function e(){if(d.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var f,a;f=void 0!==d("<input type='file'/>").get(0).files;a=void 0!==window.FormData;var b=!!d.fn.prop;d.fn.attr2=function(){if(!b)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)};d.fn.ajaxSubmit=function(c){function p(a){var b,f=d.param(a,c.traditional).split("&"),h=f.length,e=[];for(a=0;h>a;a++)f[a]=f[a].replace(/\+/g," "),b=f[a].split("="),e.push([decodeURIComponent(b[0]),decodeURIComponent(b[1])]);return e}function h(a){for(var b=new FormData,f=0;f<a.length;f++)b.append(a[f].name,a[f].value);if(c.extraData)for(a=p(c.extraData),f=0;f<a.length;f++)a[f]&&
b.append(a[f][0],a[f][1]);c.data=null;f=d.extend(!0,{},d.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:x||"POST"});c.uploadProgress&&(f.xhr=function(){var a=d.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){var b=0,d=a.loaded||a.position,f=a.total;a.lengthComputable&&(b=Math.ceil(d/f*100));c.uploadProgress(a,d,f,b)},!1),a});f.data=null;var h=f.beforeSend;return f.beforeSend=function(a,d){d.data=c.formData?c.formData:b;h&&h.call(this,a,d)},d.ajax(f)}
function l(a){function f(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){e("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){e("cannot get iframe.contentDocument: "+c),b=a.document}return b}function h(){function a(){try{var b=f(r).readyState;e("state = "+b);b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(c){e("Server abort: ",c," (",c.name,")"),p(N),z&&clearTimeout(z),z=void 0}}var b=g.attr2("target"),
c=g.attr2("action"),k=g.attr("enctype")||g.attr("encoding")||"multipart/form-data";L.setAttribute("target",u);x&&!/post/i.test(x)||L.setAttribute("method","POST");c!=l.url&&L.setAttribute("action",l.url);l.skipEncodingOverride||x&&!/post/i.test(x)||g.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});l.timeout&&(z=setTimeout(function(){w=!0;p(O)},l.timeout));var y=[];try{if(l.extraData)for(var q in l.extraData)l.extraData.hasOwnProperty(q)&&y.push(d.isPlainObject(l.extraData[q])&&
l.extraData[q].hasOwnProperty("name")&&l.extraData[q].hasOwnProperty("value")?d('<input type="hidden" name="'+l.extraData[q].name+'">').val(l.extraData[q].value).appendTo(L)[0]:d('<input type="hidden" name="'+q+'">').val(l.extraData[q]).appendTo(L)[0]);l.iframeTarget||v.appendTo("body");r.attachEvent?r.attachEvent("onload",p):r.addEventListener("load",p,!1);setTimeout(a,15);try{L.submit()}catch(n){document.createElement("form").submit.apply(L)}}finally{L.setAttribute("action",c),L.setAttribute("enctype",
k),b?L.setAttribute("target",b):g.removeAttr("target"),d(y).remove()}}function p(a){if(!q.aborted&&!K){if(D=f(r),D||(e("cannot access response document"),a=N),a===O&&q)return q.abort("timeout"),void n.reject(q,"timeout");if(a==N&&q)return q.abort("server abort"),void n.reject(q,"error","server abort");if(D&&D.location.href!=l.iframeSrc||w){r.detachEvent?r.detachEvent("onload",p):r.removeEventListener("load",p,!1);var b;a="success";try{if(w)throw"timeout";var c="xml"==l.dataType||D.XMLDocument||d.isXMLDoc(D);
if(e("isXml="+c),!c&&window.opera&&(null===D.body||!D.body.innerHTML)&&--C)return e("requeing onLoad callback, DOM not available"),void setTimeout(p,250);var h=D.body?D.body:D.documentElement;q.responseText=h?h.innerHTML:null;q.responseXML=D.XMLDocument?D.XMLDocument:D;c&&(l.dataType="xml");q.getResponseHeader=function(a){return{"content-type":l.dataType}[a.toLowerCase()]};h&&(q.status=Number(h.getAttribute("status"))||q.status,q.statusText=h.getAttribute("statusText")||q.statusText);var k=(l.dataType||
"").toLowerCase(),x=/(json|script|text)/.test(k);if(x||l.textarea){var g=D.getElementsByTagName("textarea")[0];if(g)q.responseText=g.value,q.status=Number(g.getAttribute("status"))||q.status,q.statusText=g.getAttribute("statusText")||q.statusText;else if(x){var u=D.getElementsByTagName("pre")[0],B=D.getElementsByTagName("body")[0];u?q.responseText=u.textContent?u.textContent:u.innerText:B&&(q.responseText=B.textContent?B.textContent:B.innerText)}}else"xml"==k&&!q.responseXML&&q.responseText&&(q.responseXML=
S(q.responseText));try{Q=V(q,k,l)}catch(m){a="parsererror",q.error=b=m||a}}catch(m){e("error caught: ",m),a="error",q.error=b=m||a}q.aborted&&(e("upload aborted"),a=null);q.status&&(a=200<=q.status&&300>q.status||304===q.status?"success":"error");"success"===a?(l.success&&l.success.call(l.context,Q,"success",q),n.resolve(q.responseText,"success",q),y&&d.event.trigger("ajaxSuccess",[q,l])):a&&(void 0===b&&(b=q.statusText),l.error&&l.error.call(l.context,q,a,b),n.reject(q,"error",b),y&&d.event.trigger("ajaxError",
[q,l,b]));y&&d.event.trigger("ajaxComplete",[q,l]);y&&!--d.active&&d.event.trigger("ajaxStop");l.complete&&l.complete.call(l.context,q,a);K=!0;l.timeout&&clearTimeout(z);setTimeout(function(){l.iframeTarget?v.attr("src",l.iframeSrc):v.remove();q.responseXML=null},100)}}}var k,l,y,u,v,r,q,t,w,z,L=g[0],n=d.Deferred();if(n.abort=function(a){q.abort(a)},a)for(k=0;k<m.length;k++)a=d(m[k]),b?a.prop("disabled",!1):a.removeAttr("disabled");if(l=d.extend(!0,{},d.ajaxSettings,c),l.context=l.context||l,u="jqFormIO"+
(new Date).getTime(),l.iframeTarget?(v=d(l.iframeTarget),t=v.attr2("name"),t?u=t:v.attr2("name",u)):(v=d('<iframe name="'+u+'" src="'+l.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=v[0],q={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var b="timeout"===a?"timeout":"aborted";e("aborting upload... "+b);this.aborted=1;try{r.contentWindow.document.execCommand&&
r.contentWindow.document.execCommand("Stop")}catch(c){}v.attr("src",l.iframeSrc);q.error=b;l.error&&l.error.call(l.context,q,b,a);y&&d.event.trigger("ajaxError",[q,l,b]);l.complete&&l.complete.call(l.context,q,b)}},y=l.global,y&&0===d.active++&&d.event.trigger("ajaxStart"),y&&d.event.trigger("ajaxSend",[q,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,q,l))return l.global&&d.active--,n.reject(),n;if(q.aborted)return n.reject(),n;(a=L.clk)&&(t=a.name,t&&!a.disabled&&(l.extraData=l.extraData||{},
l.extraData[t]=a.value,"image"==a.type&&(l.extraData[t+".x"]=L.clk_x,l.extraData[t+".y"]=L.clk_y)));var O=1,N=2;t=d("meta[name=csrf-token]").attr("content");(a=d("meta[name=csrf-param]").attr("content"))&&t&&(l.extraData=l.extraData||{},l.extraData[a]=t);l.forceSync?h():setTimeout(h,10);var Q,D,K,C=50,S=d.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},W=d.parseJSON||function(a){return window.eval("("+a+")")},V=function(a,b,c){var f=a.getResponseHeader("content-type")||"",h="xml"===b||!b&&0<=f.indexOf("xml");a=h?a.responseXML:a.responseText;return h&&"parsererror"===a.documentElement.nodeName&&d.error&&d.error("parsererror"),c&&c.dataFilter&&(a=c.dataFilter(a,b)),"string"==typeof a&&("json"===b||!b&&0<=f.indexOf("json")?a=W(a):("script"===b||!b&&0<=f.indexOf("javascript"))&&d.globalEval(a)),a};return n}if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),
this;var x,k,g=this;"function"==typeof c?c={success:c}:void 0===c&&(c={});x=c.type||this.attr2("method");k=c.url||this.attr2("action");(k=(k="string"==typeof k?d.trim(k):"")||window.location.href||"")&&(k=(k.match(/^([^#]+)/)||[])[1]);c=d.extend(!0,{url:k,success:d.ajaxSettings.success,type:x||d.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);k={};if(this.trigger("form-pre-serialize",[this,c,k]),k.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var r=c.traditional;void 0===r&&(r=d.ajaxSettings.traditional);var v,m=[],z=this.formToArray(c.semantic,m);if(c.data&&(c.extraData=c.data,v=d.param(c.data,r)),c.beforeSubmit&&!1===c.beforeSubmit(z,this,c))return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[z,this,c,k]),k.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;k=d.param(z,r);v&&(k=k?k+"&"+v:v);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+k,c.data=null):c.data=k;var t=[];if(c.resetForm&&t.push(function(){g.resetForm()}),c.clearForm&&t.push(function(){g.clearForm(c.includeHidden)}),!c.dataType&&c.target){var w=c.success||function(){};t.push(function(a){var b=c.replaceTarget?"replaceWith":"html";d(c.target)[b](a).each(w,arguments)})}else c.success&&t.push(c.success);if(c.success=function(a,b,d){for(var f=c.context||this,h=0,l=t.length;l>
h;h++)t[h].apply(f,[a,b,d||g,g])},c.error){var q=c.error;c.error=function(a,b,d){q.apply(c.context||this,[a,b,d,g])}}if(c.complete){var y=c.complete;c.complete=function(a,b){y.apply(c.context||this,[a,b,g])}}v=0<d("input[type=file]:enabled",this).filter(function(){return""!==d(this).val()}).length;k="multipart/form-data"==g.attr("enctype")||"multipart/form-data"==g.attr("encoding");r=f&&a;e("fileAPI :"+r);var u;!1!==c.iframe&&(c.iframe||(v||k)&&!r)?c.closeKeepAlive?d.get(c.closeKeepAlive,function(){u=
l(z)}):u=l(z):u=(v||k)&&r?h(z):d.ajax(c);g.removeData("jqxhr").data("jqxhr",u);for(v=0;v<m.length;v++)m[v]=null;return this.trigger("form-submit-notify",[this,c]),this};d.fn.ajaxForm=function(a){if(a=a||{},a.delegation=a.delegation&&d.isFunction(d.fn.on),!a.delegation&&0===this.length){var b=this.selector,f=this.context;return!d.isReady&&b?(e("DOM not ready, queuing ajaxForm"),d(function(){d(b,f).ajaxForm(a)}),this):(e("terminating; zero elements found by selector"+(d.isReady?"":" (DOM not ready)")),
this)}return a.delegation?(d(document).off("submit.form-plugin",this.selector,m).off("click.form-plugin",this.selector,g).on("submit.form-plugin",this.selector,a,m).on("click.form-plugin",this.selector,a,g),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,m).bind("click.form-plugin",a,g)};d.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};d.fn.formToArray=function(a,b){var h=[];if(0===this.length)return h;var l,e=this[0],k=this.attr("id"),g=a?e.getElementsByTagName("*"):
e.elements;if(g&&!/MSIE [678]/.test(navigator.userAgent)&&(g=d(g).get()),k&&(l=d(':input[form="'+k+'"]').get(),l.length&&(g=(g||[]).concat(l))),!g||!g.length)return h;var r,v,m,z,t;l=0;for(z=g.length;z>l;l++)if(m=g[l],r=m.name,r&&!m.disabled)if(a&&e.clk&&"image"==m.type)e.clk==m&&(h.push({name:r,value:d(m).val(),type:m.type}),h.push({name:r+".x",value:e.clk_x},{name:r+".y",value:e.clk_y}));else if(v=d.fieldValue(m,!0),v&&v.constructor==Array)for(b&&b.push(m),k=0,t=v.length;t>k;k++)h.push({name:r,
value:v[k]});else if(f&&"file"==m.type)if(b&&b.push(m),t=m.files,t.length)for(k=0;k<t.length;k++)h.push({name:r,value:t[k],type:m.type});else h.push({name:r,value:"",type:m.type});else null!==v&&"undefined"!=typeof v&&(b&&b.push(m),h.push({name:r,value:v,type:m.type,required:m.required}));!a&&e.clk&&(g=d(e.clk),v=g[0],(r=v.name)&&!v.disabled&&"image"==v.type&&(h.push({name:r,value:g.val()}),h.push({name:r+".x",value:e.clk_x},{name:r+".y",value:e.clk_y})));return h};d.fn.formSerialize=function(a){return d.param(this.formToArray(a))};
d.fn.fieldSerialize=function(a){var b=[];return this.each(function(){var f=this.name;if(f){var e=d.fieldValue(this,a);if(e&&e.constructor==Array)for(var g=0,k=e.length;k>g;g++)b.push({name:f,value:e[g]});else null!==e&&"undefined"!=typeof e&&b.push({name:this.name,value:e})}}),d.param(b)};d.fn.fieldValue=function(a){for(var b=[],f=0,e=this.length;e>f;f++){var g=d.fieldValue(this[f],a);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?d.merge(b,g):b.push(g))}return b};
d.fieldValue=function(a,b){var f=a.name,e=a.type,g=a.tagName.toLowerCase();if(void 0===b&&(b=!0),b&&(!f||a.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!a.checked||("submit"==e||"image"==e)&&a.form&&a.form.clk!=a||"select"==g&&-1==a.selectedIndex))return null;if("select"==g){var k=a.selectedIndex;if(0>k)return null;for(var f=[],g=a.options,m=(e="select-one"==e)?k+1:g.length,k=e?k:0;m>k;k++){var r=g[k];if(r.selected){var v=r.value;if(v||(v=r.attributes&&r.attributes.value&&!r.attributes.value.specified?
r.text:r.value),e)return v;f.push(v)}}return f}return d(a).val()};d.fn.clearForm=function(a){return this.each(function(){d("input,select,textarea",this).clearFields(a)})};d.fn.clearFields=d.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var f=this.type,e=this.tagName.toLowerCase();b.test(f)||"textarea"==e?this.value="":"checkbox"==f||"radio"==f?this.checked=!1:"select"==e?this.selectedIndex=
-1:"file"==f?/MSIE/.test(navigator.userAgent)?d(this).replaceWith(d(this).clone(!0)):d(this).val(""):a&&(!0===a&&/hidden/.test(f)||"string"==typeof a&&d(this).is(a))&&(this.value="")})};d.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};d.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})};d.fn.selected=function(a){return void 0===a&&(a=!0),this.each(function(){var b=
this.type;"checkbox"==b||"radio"==b?this.checked=a:"option"==this.tagName.toLowerCase()&&(b=d(this).parent("select"),a&&b[0]&&"select-one"==b[0].type&&b.find("option").selected(!1),this.selected=a)})};d.fn.ajaxSubmit.debug=!1});(function(d){d.fn.hoverIntent=function(m,g,e){var f={interval:100,sensitivity:6,timeout:0},f="object"===typeof m?d.extend(f,m):d.isFunction(g)?d.extend(f,{over:m,out:g,selector:e}):d.extend(f,{over:m,out:m,selector:g}),a,b,c,p,h=function(c){a=c.pageX;b=c.pageY},l=function(e,k){k.hoverIntent_t=clearTimeout(k.hoverIntent_t);if(Math.sqrt((c-a)*(c-a)+(p-b)*(p-b))<f.sensitivity)return d(k).off("mousemove.hoverIntent",h),k.hoverIntent_s=!0,f.over.apply(k,[e]);c=a;p=b;k.hoverIntent_t=setTimeout(function(){l(e,
k)},f.interval)};m=function(a){var b=d.extend({},a),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t));"mouseenter"===a.type?(c=b.pageX,p=b.pageY,d(e).on("mousemove.hoverIntent",h),e.hoverIntent_s||(e.hoverIntent_t=setTimeout(function(){l(b,e)},f.interval))):(d(e).off("mousemove.hoverIntent",h),e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){e.hoverIntent_t=clearTimeout(e.hoverIntent_t);e.hoverIntent_s=!1;f.out.apply(e,[b])},f.timeout)))};return this.on({"mouseenter.hoverIntent":m,
"mouseleave.hoverIntent":m},f.selector)}})(jQuery);(function(d){d.fn.picZoomer=function(m){var g=d.extend({},d.fn.picZoomer.defaults,m);m=d('<div class="picZoomer-pic-wp"><div id="codId" style="display: none;" class="cod"><span>COD</span></div><div class="zoom" style="z-index:10000;"><a onClick="hit()"></a></div></div>').appendTo(this);this.children("img").addClass("picZoomer-pic").appendTo(m);var e=d('<div class="picZoomer-zoom-wp"><img src="" alt="" class="picZoomer-zoom-pic"></div>').appendTo(this),f=e.find(".picZoomer-zoom-pic"),a=m.offset().left,
b=m.offset().top;g.zoomWidth=g.zoomWidth||g.picWidth;g.zoomHeight=g.zoomHeight||g.picHeight;var c=g.zoomWidth/2,p=g.zoomHeight/2;e.css({width:g.zoomWidth+"px",height:g.zoomHeight+"px"});e.css({top:"0px",left:g.picWidth+97+"px","background-color":"#fff",border:"2px solid #000"});f.css({width:g.picWidth*g.scale+"px",height:g.picHeight*g.scale+"px"});d(window).width();m.on("mouseenter",function(a){d(window).width()}).on("mouseleave",function(a){e.hide()}).on("mousemove",function(e){var l=e.pageX-a,x=
e.pageY-b;d("header .content .bottom").hasClass("active")&&(x=e.pageY-b+d(".bottom").height());f.css({left:-(l*g.scale-c)+-50+"px",top:-(x*g.scale-p)+-250+"px"})});return this};d.fn.picZoomer.defaults={picWidth:470,picHeight:633,scale:2,zoomerPosition:{top:"0",left:"350px"}}})(jQuery);(function(d){d.extend(d.fn,{pstrength:function(m){m=d.extend({verdicts:"Too Short;Very Weak;Weak;Medium;Strong;Very Strong".split(";"),colors:"#ccc #f00 #c06 #f60 #3c0 #3f0".split(" "),values:[20,30,40,60,80,100],scores:[10,15,30,40],minchar:8,minCharText:"Minimum length is %d characters"},m);return this.each(function(){var g=d(this).attr("id");d(this).after('<div id="'+g+'_bar" class="progress" style="display: none;"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><span  id="'+
g+'_text">0%<span></div></div>');0<m.minchar&&d(this).after('<div class="help-block" id="'+g+'_minchar">'+m.minCharText.replace("%d",m.minchar)+"</div>");m.$ctlBar=d("#"+g+"_bar .progress-bar");m.$ctlText=d("#"+g+"_text");d(this).keyup(function(){m.minchar<=d(this).val().length&&d("#"+g+"_bar:hidden")&&d("#"+g+"_bar").show();d.fn.runPassword(d(this).val(),g,m)})})},runPassword:function(m,g,e){nPerc=d.fn.checkPassword(m,e);m=0>nPerc?0:nPerc<=e.scores[0]?1:nPerc>e.scores[0]&&nPerc<=e.scores[1]?2:nPerc>
e.scores[1]&&nPerc<=e.scores[2]?3:nPerc>e.scores[2]&&nPerc<=e.scores[3]?4:5;e.$ctlBar.css({width:e.values[m]+"%"});e.$ctlBar.attr("aria-valuenow",e.values[m]);e.$ctlBar.css({backgroundColor:e.colors[m]});e.$ctlText.html(e.verdicts[m])},checkPassword:function(d,g){var e=0;d.length<g.minchar?e-=100:d.length>g.minchar+1&&d.length<g.minchar+3?e+=6:d.length>g.minchar+2&&d.length<g.minchar+4?e+=12:d.length>2*g.minchar&&(e+=18);d.match(/[a-z]/)&&(e+=1);d.match(/[A-Z]/)&&(e+=5);d.match(/\d+/)&&(e+=5);d.match(/(.*[0-9].*[0-9].*[0-9])/)&&
(e+=5);d.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(e+=5);d.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(e+=5);d.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(e+=2);d.match(/([a-zA-Z])/)&&d.match(/([0-9])/)&&(e+=2);d.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(e+=2);return e}})})(jQuery);(function(d){var m=function(){var d=0,e=[["min-height","0px"],["height","1%"]],f=/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],a=f[2]||"0";"msie"===(f[1]||"")&&7>a&&(d=1);return{name:e[d][0],autoheightVal:e[d][1]}};d.getSyncedHeight=function(g){var e=0,f=m();d(g).each(function(){d(this).css(f.name,f.autoheightVal);var a=parseInt(d(this).css("height"),10);a>e&&(e=a)});return e};d.fn.syncHeight=function(g){var e=d.extend({updateOnResize:!1,height:!1},g),f=this,a=0,b=m().name;1==e.parent?
(d(this).each(function(){d(this).css(b,"0px")}),d(this).each(function(){d(this).css(b,d(this).parent().innerHeight()+"px")})):(a="number"===typeof e.height?e.height:d.getSyncedHeight(this),d(this).each(function(){d(this).css(b,a+"px")}));!0===e.updateOnResize&&d(window).bind("resize.syncHeight",function(){e.updateOnResize=!1;d(f).syncHeight(e)});return this};d.fn.unSyncHeight=function(){d(window).unbind("resize.syncHeight");var g=m().name;d(this).each(function(){d(this).css(g,"")})}})(jQuery);(function(d){function m(d,e){}d.fn.extend({getUniqueId:function(d,e,f){return d+e+(void 0===f?"":"-"+f)},accessibleTabs:function(g){var e={37:-1,38:-1,39:1,40:1},f={top:"prepend",bottom:"append"};this.options=d.extend({wrapperClass:"content",currentClass:"current",tabhead:"h4",tabheadClass:"tabhead",tabbody:".tabbody",fx:"show",fxspeed:"normal",currentInfoText:"current tab: ",currentInfoPosition:"prepend",currentInfoClass:"current-info",tabsListClass:"tabs-list",syncheights:!1,syncHeightMethodName:"syncHeight",
cssClassAvailable:!1,saveState:!1,autoAnchor:!1,pagination:!1,position:"top",wrapInnerNavLinks:"",firstNavItemClass:"first",lastNavItemClass:"last",clearfixClass:"clearfix"},g);var a=0;void 0!==d("body").data("accessibleTabsCount")&&(a=d("body").data("accessibleTabsCount"));d("body").data("accessibleTabsCount",this.size()+a);var b=this;return this.each(function(c){var p=d(this),h="",l=0,g=[];d(p).wrapInner('<div class="'+b.options.wrapperClass+'"></div>');m(d(p).find(b.options.tabhead).children("a"));
d(p).find(b.options.tabhead).each(function(f){d(this);var e="",k=d(this).attr("id");if(k){if(0===k.indexOf("accessibletabscontent"))return;e=' id="'+k+'"'}k=b.getUniqueId("accessibletabscontent",a+c,f);f=b.getUniqueId("accessibletabsnavigation",a+c,f);g.push(k);var p=0<d(this).children("a").length?d(this).children("a").html():d(this).html(),r="";d(this).attr("aria-label")&&(r='aria-label="'+d(this).attr("aria-label")+'"');if(!0===b.options.cssClassAvailable){var q="";d(this).attr("class")&&(q=d(this).attr("class"),
q=' class="'+q+'"');h+='<li id="'+f+'"><a'+e+""+q+' href="#'+k+'" '+r+">"+p+"</a></li>"}else h+='<li id="'+f+'"><a'+e+' href="#'+k+'" '+r+">"+p+"</a></li>";d(this).attr({id:k,"class":b.options.tabheadClass,tabindex:"-1"});l++});b.options.syncheights&&d.fn[b.options.syncHeightMethodName]&&(d(p).find(b.options.tabbody)[b.options.syncHeightMethodName](),d(window).resize(function(){d(p).find(b.options.tabbody)[b.options.syncHeightMethodName]()}));var k="."+b.options.tabsListClass;if(!d(p).find(k).length)d(p)[f[b.options.position]]('<ul class="'+
b.options.clearfixClass+" "+b.options.tabsListClass+" tabamount"+l+'"></ul>');d(p).find(k).append(h);k=d(p).find(b.options.tabbody);0<k.length&&(d(k).hide(),d(k[0]).show());d(p).find("ul."+b.options.tabsListClass+">li:first").addClass(b.options.currentClass).addClass(b.options.firstNavItemClass).find("a")[b.options.currentInfoPosition]('<span class="'+b.options.currentInfoClass+'">'+b.options.currentInfoText+"</span>").parents("ul."+b.options.tabsListClass).children("li:last").addClass(b.options.lastNavItemClass);
k=d(p).find(b.options.tabhead);0<k.length&&(d(k[0]).addClass(b.options.currentClass).addClass(b.options.firstNavItemClass),d(k[k.length-1]).addClass(b.options.lastNavItemClass));b.options.wrapInnerNavLinks&&d(p).find("ul."+b.options.tabsListClass+">li>a").wrapInner(b.options.wrapInnerNavLinks);d(p).find("ul."+b.options.tabsListClass+">li>a").each(function(a){d(this).click(function(c){c.preventDefault();p.trigger("showTab.accessibleTabs",[d(c.target)]);b.options.saveState&&d.cookie&&d.cookie("accessibletab_"+
p.attr("id")+"_active",a);d(p).find("ul."+b.options.tabsListClass+">li."+b.options.currentClass).removeClass(b.options.currentClass).find("span."+b.options.currentInfoClass).remove();d(p).find(b.options.tabhead).removeClass(b.options.currentClass);d(this).blur();d(p).find(b.options.tabbody+":visible").hide();d(p).find(b.options.tabbody).eq(a)[b.options.fx](b.options.fxspeed);d(this)[b.options.currentInfoPosition]('<span class="'+b.options.currentInfoClass+'">'+b.options.currentInfoText+"</span>").parent().addClass(b.options.currentClass);
d(d(this).attr("href")).addClass(b.options.currentClass);d(d(this).attr("href")).focus().keyup(function(c){e[c.keyCode]&&(b.showAccessibleTab(a+e[c.keyCode]),d(this).unbind("keyup"))})});d(this).focus(function(){d(document).keyup(function(c){e[c.keyCode]&&b.showAccessibleTab(a+e[c.keyCode])})});d(this).blur(function(){d(document).unbind("keyup")})});b.options.saveState&&d.cookie&&(k=d.cookie("accessibletab_"+p.attr("id")+"_active"),m(d.cookie("accessibletab_"+p.attr("id")+"_active")),null!==k&&b.showAccessibleTab(k,
p.attr("id")));b.options.autoAnchor&&window.location.hash&&(k=d("."+b.options.tabsListClass).find(window.location.hash),k.size()&&k.click());if(b.options.pagination){var B='<ul class="pagination">',B=B+'    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>',B=B+'    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>',B=B+"</ul>",k=d(p).find(".tabbody"),r=k.size();k.each(function(a){d(this).append(B);var b=a+1;b>=r&&(b=0);var c=a-1;
0>c&&(c=r-1);a=d(this).find(".pagination");var f=a.find(".previous");f.find("span").text(d("#"+g[c]).text());f.find("a").attr("href","#"+g[c]).click(function(a){a.preventDefault();d(p).find(".tabs-list a").eq(c).click()});a=a.find(".next");a.find("span").text(d("#"+g[b]).text());a.find("a").attr("href","#"+g[b]).click(function(a){a.preventDefault();d(p).find(".tabs-list a").eq(b).click()})})}})},showAccessibleTab:function(g,e){var f=this;if(e){var a=d("#"+e),b=a.find("ul."+f.options.tabsListClass+
">li>a");a.trigger("showTab.accessibleTabs",[b.eq(g)]);b.eq(g).click()}else return this.each(function(){var a=d(this);a.trigger("showTab.accessibleTabs");var b=a.find("ul."+f.options.tabsListClass+">li>a");a.trigger("showTab.accessibleTabs",[b.eq(g)]);b.eq(g).click()})},showAccessibleTabSelector:function(g){(g=d(g))&&"a"===g.get(0).nodeName.toLowerCase()&&g.click()}})})(jQuery);(function(d){var m={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,zoomEnableCallBack:!1,zoomEnable:!0,magnify:1,longtouchtimer:function(){},touchduration:500};d.zoom=function(g,e,f,a){var b,c,p,h,l,x,k,m=d(g).css("position"),r=d(e);g.style.position=/(absolute|fixed)/.test(m)?m:"relative";g.style.overflow="hidden";f.style.width=f.style.height="";a=d("<div class='zoomImg'><div class='zoomImgMask'></div></div>").css({width:f.width*a,height:f.height*a}).appendTo(g);
d(f).appendTo(a);return{init:function(){c=d(g).outerWidth();b=d(g).outerHeight();e===g?(h=c,p=b):(h=r.outerWidth(),p=r.outerHeight());l=(f.width-c)/h;x=(f.height-b)/p;k=r.offset()},move:function(a){void 0==k&&(k={left:0,top:0});var b=a.pageX-k.left;a=a.pageY-k.top;a=Math.max(Math.min(a,p),0);b=Math.max(Math.min(b,h),0);d(f).parent(".zoomImg").css("left",b*-l+"px");d(f).parent(".zoomImg").css("top",a*-x+"px")}}};d.fn.zoom=function(g){return this.each(function(){var e=d.extend({},m,g||{}),f=e.target||
this,a=this,b=d(a),c=document.createElement("img"),p=d(c),h=!1,l=!1,x;if(!e.url&&(x=b.find("img"),x[0]&&(e.url=x.data("src")||x.attr("src")),!e.url))return;(function(){var a=f.style.position,c=f.style.overflow;b.one("zoom.destroy",function(){b.off(".zoom");f.style.position=a;f.style.overflow=c;p.remove()})})();c.onload=function(){function k(a){d.isFunction(e.zoomEnableCallBack)&&(e.zoomEnable=e.zoomEnableCallBack.call(c));if(!e.zoomEnable)return!1;g.init();g.move(a);d(c).parent(".zoomImg").stop().fadeTo(d.support.opacity?
e.duration:0,1,d.isFunction(e.onZoomIn)?e.onZoomIn.call(c):!1)}function p(){e.longtouchtimer&&clearTimeout(e.longtouchtimer);d(c).parent(".zoomImg").stop().fadeTo(e.duration,0,d.isFunction(e.onZoomOut)?e.onZoomOut.call(c):!1)}var g=d.zoom(f,a,c,e.magnify);if("grab"===e.on)b.on("mousedown.zoom",function(a){1===a.which&&(d(document).one("mouseup.zoom",function(){p();d(document).off("mousemove.zoom",g.move)}),e.longtouchtimer=setTimeout(function(){k(a);d(document).on("mousemove.zoom",g.move)},e.touchduration),
a.preventDefault())});else if("click"===e.on)b.on("click.zoom",function(a){if(!h)return h=!0,k(a),d(document).on("mousemove.zoom",g.move),d(document).one("click.zoom",function(){p();h=!1;d(document).off("mousemove.zoom",g.move)}),!1});else if("toggle"===e.on)b.on("click.zoom",function(a){h?p():k(a);h=!h});else"mouseover"===e.on&&(g.init(),b.on("mouseenter.zoom",k).on("mouseleave.zoom",p).on("mousemove.zoom",function(){e.longtouchtimer&&clearTimeout(e.longtouchtimer);g.move()}));e.touch&&(l=!1,b.on("touchstart.zoom",
function(a){clearTimeout(e.longtouchtimer);e.longtouchtimer=setTimeout(function(){l?(l=!1,p()):(l=!0,a.preventDefault(),k(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]))},e.touchduration)}).on("touchmove.zoom",function(a){l&&(a.preventDefault(),g.move(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]))}).on("touchend.zoom",function(a){a.preventDefault();e.longtouchtimer&&clearTimeout(e.longtouchtimer);p();l=!1}));d.isFunction(e.callback)&&e.callback.call(c)};c.src=e.url})};
d.fn.zoom.defaults=m})(window.jQuery);(function e$$0(m,g,e){function f(b,p){if(!g[b]){if(!m[b]){var h="function"==typeof require&&require;if(!p&&h)return h(b,!0);if(a)return a(b,!0);h=Error("Cannot find module '"+b+"'");throw h.code="MODULE_NOT_FOUND",h;}h=g[b]={exports:{}};m[b][0].call(h.exports,function(a){var e=m[b][1][a];return f(e?e:a)},h,h.exports,e$$0,m,g,e)}return g[b].exports}for(var a="function"==typeof require&&require,b=0;b<e.length;b++)f(e[b]);return f})({1:[function(d,m,g){var e,f,a,b=function(a,b){function d(){this.constructor=
a}for(var f in b)c.call(b,f)&&(a[f]=b[f]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a},c={}.hasOwnProperty;a=d("./node").Position;d=function(){function b(a){this.tree_widget=a;this.$ghost=this.hovered_area=null;this.hit_areas=[];this.is_dragging=!1;this.current_item=null}b.prototype.mouseCapture=function(a){a=$(a.target);if(!this.mustCaptureElement(a)||this.tree_widget.options.onIsMoveHandle&&!this.tree_widget.options.onIsMoveHandle(a))return null;(a=this.tree_widget._getNodeElement(a))&&
this.tree_widget.options.onCanMove&&(this.tree_widget.options.onCanMove(a.node)||(a=null));this.current_item=a;return null!==this.current_item};b.prototype.mouseStart=function(a){var b;this.refresh();b=$(a.target).offset();this.drag_element=new e(this.current_item.node,a.page_x-b.left,a.page_y-b.top,this.tree_widget.element);this.is_dragging=!0;this.current_item.$element.addClass("jqtree-moving");return!0};b.prototype.mouseDrag=function(a){this.drag_element.move(a.page_x,a.page_y);a=this.findHoveredArea(a.page_x,
a.page_y);this.canMoveToArea(a)&&a?(a.node.isFolder()||this.stopOpenFolderTimer(),this.hovered_area!==a&&(this.hovered_area=a,this.mustOpenFolderTimer(a)?this.startOpenFolderTimer(a.node):this.stopOpenFolderTimer(),this.updateDropHint())):(this.removeHover(),this.removeDropHint(),this.stopOpenFolderTimer());return!0};b.prototype.mustCaptureElement=function(a){return!a.is("input,select")};b.prototype.canMoveToArea=function(b){var c;return b?this.tree_widget.options.onCanMoveTo?(c=a.getName(b.position),
this.tree_widget.options.onCanMoveTo(this.current_item.node,b.node,c)):!0:!1};b.prototype.mouseStop=function(a){this.moveItem(a);this.clear();this.removeHover();this.removeDropHint();this.removeHitAreas();this.current_item&&(this.current_item.$element.removeClass("jqtree-moving"),this.current_item=null);return this.is_dragging=!1};b.prototype.refresh=function(){this.removeHitAreas();if(this.current_item&&(this.generateHitAreas(),this.current_item=this.tree_widget._getNodeElementForNode(this.current_item.node),
this.is_dragging))return this.current_item.$element.addClass("jqtree-moving")};b.prototype.removeHitAreas=function(){return this.hit_areas=[]};b.prototype.clear=function(){this.drag_element.remove();return this.drag_element=null};b.prototype.removeDropHint=function(){if(this.previous_ghost)return this.previous_ghost.remove()};b.prototype.removeHover=function(){return this.hovered_area=null};b.prototype.generateHitAreas=function(){return this.hit_areas=(new f(this.tree_widget.tree,this.current_item.node,
this.getTreeDimensions().bottom)).generate()};b.prototype.findHoveredArea=function(a,b){var c,d,f,e;c=this.getTreeDimensions();if(a<c.left||b<c.top||a>c.right||b>c.bottom)return null;f=0;for(d=this.hit_areas.length;f<d;)if(e=f+d>>1,c=this.hit_areas[e],b<c.top)d=e;else if(b>c.bottom)f=e+1;else return c;return null};b.prototype.mustOpenFolderTimer=function(b){var c;c=b.node;return c.isFolder()&&!c.is_open&&b.position===a.INSIDE};b.prototype.updateDropHint=function(){var a;if(this.hovered_area)return this.removeDropHint(),
a=this.tree_widget._getNodeElementForNode(this.hovered_area.node),this.previous_ghost=a.addDropHint(this.hovered_area.position)};b.prototype.startOpenFolderTimer=function(a){var b;b=function(b){return function(){return b.tree_widget._openNode(a,b.tree_widget.options.slide,function(){b.refresh();return b.updateDropHint()})}}(this);this.stopOpenFolderTimer();return this.open_folder_timer=setTimeout(b,this.tree_widget.options.openFolderDelay)};b.prototype.stopOpenFolderTimer=function(){if(this.open_folder_timer)return clearTimeout(this.open_folder_timer),
this.open_folder_timer=null};b.prototype.moveItem=function(b){var c,d,f,e,p;if(this.hovered_area&&this.hovered_area.position!==a.NONE&&this.canMoveToArea(this.hovered_area)&&(d=this.current_item.node,p=this.hovered_area.node,f=this.hovered_area.position,e=d.parent,f===a.INSIDE&&(this.hovered_area.node.is_open=!0),c=function(a){return function(){a.tree_widget.tree.moveNode(d,p,f);a.tree_widget.element.empty();return a.tree_widget._refreshElements()}}(this),b=this.tree_widget._triggerEvent("tree.move",
{move_info:{moved_node:d,target_node:p,position:a.getName(f),previous_parent:e,do_move:c,original_event:b.original_event}}),!b.isDefaultPrevented()))return c()};b.prototype.getTreeDimensions=function(){var a;a=this.tree_widget.element.offset();return{left:a.left,top:a.top,right:a.left+this.tree_widget.element.width(),bottom:a.top+this.tree_widget.element.height()+16}};return b}();f=function(c){function d(a,b,c){d.__super__.constructor.call(this,a);this.current_node=b;this.tree_bottom=c}b(d,c);d.prototype.generate=
function(){this.positions=[];this.last_top=0;this.iterate();return this.generateHitAreas(this.positions)};d.prototype.getTop=function(a){return a.offset().top};d.prototype.addPosition=function(a,b,c){this.positions.push({top:c,node:a,position:b});return this.last_top=c};d.prototype.handleNode=function(b,c,d){d=this.getTop(d);b===this.current_node?this.addPosition(b,a.NONE,d):this.addPosition(b,a.INSIDE,d);return c===this.current_node||b===this.current_node?this.addPosition(b,a.NONE,d):this.addPosition(b,
a.AFTER,d)};d.prototype.handleOpenFolder=function(b,c){if(b===this.current_node)return!1;b.children[0]!==this.current_node&&this.addPosition(b,a.INSIDE,this.getTop(c));return!0};d.prototype.handleClosedFolder=function(b,c,d){d=this.getTop(d);if(b===this.current_node)return this.addPosition(b,a.NONE,d);this.addPosition(b,a.INSIDE,d);if(c!==this.current_node)return this.addPosition(b,a.AFTER,d)};d.prototype.handleFirstNode=function(b,c){if(b!==this.current_node)return this.addPosition(b,a.BEFORE,this.getTop($(b.element)))};
d.prototype.handleAfterOpenFolder=function(b,c,d){return b===this.current_node.node||c===this.current_node.node?this.addPosition(b,a.NONE,this.last_top):this.addPosition(b,a.AFTER,this.last_top)};d.prototype.generateHitAreas=function(a){var b,c,d,f,e,h;h=-1;b=[];c=[];d=0;for(f=a.length;d<f;d++)e=a[d],e.top!==h&&b.length&&(b.length&&this.generateHitAreasForGroup(c,b,h,e.top),h=e.top,b=[]),b.push(e);this.generateHitAreasForGroup(c,b,h,this.tree_bottom);return c};d.prototype.generateHitAreasForGroup=
function(a,b,c,d){var f,e,h;h=Math.min(b.length,4);d=Math.round((d-c)/h);for(f=0;f<h;)e=b[f],a.push({top:c,bottom:c+d,node:e.node,position:e.position}),c+=d,f+=1;return null};return d}(function(){function a(b){this.tree=b}a.prototype.iterate=function(){var a,b;b=!0;a=function(c){return function(d,f){var e,p,g,m,t;p=(d.is_open||!d.element)&&d.hasChildren();if(d.element){e=$(d.element);if(!e.is(":visible"))return;b&&(c.handleFirstNode(d,e),b=!1);d.hasChildren()?d.is_open?c.handleOpenFolder(d,e)||(p=
!1):c.handleClosedFolder(d,f,e):c.handleNode(d,f,e)}if(p){p=d.children.length;t=d.children;g=m=0;for(t=t.length;m<t;g=++m)g===p-1?a(d.children[g],null):a(d.children[g],d.children[g+1]);if(d.is_open)return c.handleAfterOpenFolder(d,f,e)}}}(this);return a(this.tree,null)};a.prototype.handleNode=function(a,b,c){};a.prototype.handleOpenFolder=function(a,b){};a.prototype.handleClosedFolder=function(a,b,c){};a.prototype.handleAfterOpenFolder=function(a,b,c){};a.prototype.handleFirstNode=function(a,b){};
return a}());e=function(){function a(b,c,d,f){this.offset_x=c;this.offset_y=d;this.$element=$('<span class="jqtree-title jqtree-dragging">'+b.name+"</span>");this.$element.css("position","absolute");f.append(this.$element)}a.prototype.move=function(a,b){return this.$element.offset({left:a-this.offset_x,top:b-this.offset_y})};a.prototype.remove=function(){return this.$element.remove()};return a}();m.exports=d},{"./node":5}],2:[function(d,m,g){var e;d("./node_element");e=d("./util").html_escape;d=function(){function d(a){this.tree_widget=
a;this.opened_icon_element=this.createButtonElement(a.options.openedIcon);this.closed_icon_element=this.createButtonElement(a.options.closedIcon)}d.prototype.render=function(a){return a&&a.parent?this.renderFromNode(a):this.renderFromRoot()};d.prototype.renderFromRoot=function(){var a;a=this.tree_widget.element;a.empty();return this.createDomElements(a[0],this.tree_widget.tree.children,!0,!0)};d.prototype.renderFromNode=function(a){var b,c;b=$(a.element);c=this.createLi(a);this.attachNodeData(a,c);
b.after(c);b.remove();if(a.children)return this.createDomElements(c,a.children,!1,!1)};d.prototype.createDomElements=function(a,b,c,d){var f,e;c=this.createUl(c);a.appendChild(c);d=0;for(f=b.length;d<f;d++)a=b[d],e=this.createLi(a),c.appendChild(e),this.attachNodeData(a,e),a.hasChildren()&&this.createDomElements(e,a.children,!1,a.is_open);return null};d.prototype.attachNodeData=function(a,b){a.element=b;return $(b).data("node",a)};d.prototype.createUl=function(a){var b;a=a?"jqtree-tree":"";b=document.createElement("ul");
b.className="jqtree_common "+a;return b};d.prototype.createLi=function(a){var b;b=a.isFolder()?this.createFolderLi(a):this.createNodeLi(a);if(this.tree_widget.options.onCreateLi)this.tree_widget.options.onCreateLi(a,$(b));return b};d.prototype.createFolderLi=function(a){var b,c,d,f,e;b=this.getButtonClasses(a);d=this.getFolderClasses(a);f=this.escapeIfNecessary(a.name);e=a.is_open?this.opened_icon_element:this.closed_icon_element;a=document.createElement("li");a.className="jqtree_common "+d;d=document.createElement("div");
d.className="jqtree-element jqtree_common";a.appendChild(d);c=document.createElement("a");c.className="jqtree_common "+b;c.appendChild(e.cloneNode(!1));d.appendChild(c);b=document.createElement("span");b.className="jqtree_common jqtree-title jqtree-title-folder";d.appendChild(b);b.innerHTML=f;return a};d.prototype.createNodeLi=function(a){var b,c,d;c=["jqtree_common"];this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(a)&&c.push("jqtree-selected");b=c.join(" ");
a=this.escapeIfNecessary(a.name);c=document.createElement("li");c.className=b;b=document.createElement("div");b.className="jqtree-element jqtree_common";c.appendChild(b);d=document.createElement("span");d.className="jqtree-title jqtree_common";d.innerHTML=a;b.appendChild(d);return c};d.prototype.getButtonClasses=function(a){var b;b=["jqtree-toggler"];a.is_open||b.push("jqtree-closed");return b.join(" ")};d.prototype.getFolderClasses=function(a){var b;b=["jqtree-folder"];a.is_open||b.push("jqtree-closed");
this.tree_widget.select_node_handler&&this.tree_widget.select_node_handler.isNodeSelected(a)&&b.push("jqtree-selected");a.is_loading&&b.push("jqtree-loading");return b.join(" ")};d.prototype.escapeIfNecessary=function(a){return this.tree_widget.options.autoEscape?e(a):a};d.prototype.createButtonElement=function(a){var b;return"string"===typeof a?(b=document.createElement("div"),b.innerHTML=a,document.createTextNode(b.innerHTML)):$(a)[0]};return d}();m.exports=d},{"./node_element":6,"./util":12}],
3:[function(d,m,g){var e=function(d,a){return function(){return d.apply(a,arguments)}};d=function(){function d(a){this.selectNode=e(this.selectNode,this);this.tree_widget=a;a.options.keyboardSupport&&$(document).bind("keydown.jqtree",$.proxy(this.handleKeyDown,this))}d.prototype.deinit=function(){return $(document).unbind("keydown.jqtree")};d.prototype.moveDown=function(){var a;return(a=this.tree_widget.getSelectedNode())?this.selectNode(a.getNextNode()):!1};d.prototype.moveUp=function(){var a;return(a=
this.tree_widget.getSelectedNode())?this.selectNode(a.getPreviousNode()):!1};d.prototype.moveRight=function(){var a;return(a=this.tree_widget.getSelectedNode())&&a.isFolder()&&!a.is_open?(this.tree_widget.openNode(a),!1):!0};d.prototype.moveLeft=function(){var a;return(a=this.tree_widget.getSelectedNode())&&a.isFolder()&&a.is_open?(this.tree_widget.closeNode(a),!1):!0};d.prototype.handleKeyDown=function(a){if(!this.tree_widget.options.keyboardSupport||$(document.activeElement).is("textarea,input,select")||
!this.tree_widget.getSelectedNode())return!0;switch(a.which){case 40:return this.moveDown();case 38:return this.moveUp();case 39:return this.moveRight();case 37:return this.moveLeft()}return!0};d.prototype.selectNode=function(a){return a?(this.tree_widget.selectNode(a),this.tree_widget.scroll_handler&&!this.tree_widget.scroll_handler.isScrolledIntoView($(a.element).find(".jqtree-element"))&&this.tree_widget.scrollToNode(a),!1):!0};return d}();m.exports=d},{}],4:[function(d,m,g){var e=function(a,b){function c(){this.constructor=
a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},f={}.hasOwnProperty;d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}e(b,a);b.is_mouse_handled=!1;b.prototype._init=function(){this.$el.bind("mousedown.mousewidget",$.proxy(this._mouseDown,this));this.$el.bind("touchstart.mousewidget",$.proxy(this._touchStart,this));this.is_mouse_started=!1;this.mouse_delay=0;this._mouse_delay_timer=null;this._is_mouse_delay_met=
!0;return this.mouse_down_info=null};b.prototype._deinit=function(){var a;this.$el.unbind("mousedown.mousewidget");this.$el.unbind("touchstart.mousewidget");a=$(document);a.unbind("mousemove.mousewidget");return a.unbind("mouseup.mousewidget")};b.prototype._mouseDown=function(a){var b;if(1===a.which)return(b=this._handleMouseDown(a,this._getPositionInfo(a)))&&a.preventDefault(),b};b.prototype._handleMouseDown=function(a,d){if(!b.is_mouse_handled&&(this.is_mouse_started&&this._handleMouseUp(d),this.mouse_down_info=
d,this._mouseCapture(d)))return this._handleStartMouse(),this.is_mouse_handled=!0};b.prototype._handleStartMouse=function(){var a;a=$(document);a.bind("mousemove.mousewidget",$.proxy(this._mouseMove,this));a.bind("touchmove.mousewidget",$.proxy(this._touchMove,this));a.bind("mouseup.mousewidget",$.proxy(this._mouseUp,this));a.bind("touchend.mousewidget",$.proxy(this._touchEnd,this));if(this.mouse_delay)return this._startMouseDelayTimer()};b.prototype._startMouseDelayTimer=function(){this._mouse_delay_timer&&
clearTimeout(this._mouse_delay_timer);this._mouse_delay_timer=setTimeout(function(a){return function(){return a._is_mouse_delay_met=!0}}(this),this.mouse_delay);return this._is_mouse_delay_met=!1};b.prototype._mouseMove=function(a){return this._handleMouseMove(a,this._getPositionInfo(a))};b.prototype._handleMouseMove=function(a,b){if(this.is_mouse_started)return this._mouseDrag(b),a.preventDefault();if(this.mouse_delay&&!this._is_mouse_delay_met)return!0;(this.is_mouse_started=!1!==this._mouseStart(this.mouse_down_info))?
this._mouseDrag(b):this._handleMouseUp(b);return!this.is_mouse_started};b.prototype._getPositionInfo=function(a){return{page_x:a.pageX,page_y:a.pageY,target:a.target,original_event:a}};b.prototype._mouseUp=function(a){return this._handleMouseUp(this._getPositionInfo(a))};b.prototype._handleMouseUp=function(a){var b;b=$(document);b.unbind("mousemove.mousewidget");b.unbind("touchmove.mousewidget");b.unbind("mouseup.mousewidget");b.unbind("touchend.mousewidget");this.is_mouse_started&&(this.is_mouse_started=
!1,this._mouseStop(a))};b.prototype._mouseCapture=function(a){return!0};b.prototype._mouseStart=function(a){return null};b.prototype._mouseDrag=function(a){return null};b.prototype._mouseStop=function(a){return null};b.prototype.setMouseDelay=function(a){return this.mouse_delay=a};b.prototype._touchStart=function(a){var b;if(!(1<a.originalEvent.touches.length))return b=a.originalEvent.changedTouches[0],this._handleMouseDown(a,this._getPositionInfo(b))};b.prototype._touchMove=function(a){var b;if(!(1<
a.originalEvent.touches.length))return b=a.originalEvent.changedTouches[0],this._handleMouseMove(a,this._getPositionInfo(b))};b.prototype._touchEnd=function(a){if(!(1<a.originalEvent.touches.length))return a=a.originalEvent.changedTouches[0],this._handleMouseUp(this._getPositionInfo(a))};return b}(d("./simple.widget"));m.exports=d},{"./simple.widget":10}],5:[function(d,m,g){var e;e={getName:function(d){return e.strings[d-1]},nameToIndex:function(d){var a,b,c;a=b=1;for(c=e.strings.length;1<=c?b<=c:
b>=c;a=1<=c?++b:--b)if(e.strings[a-1]===d)return a;return 0},BEFORE:1,AFTER:2,INSIDE:3,NONE:4,strings:["before","after","inside","none"]};d=function(){function d(a,b,c){null==b&&(b=!1);null==c&&(c=d);this.setData(a);this.children=[];this.parent=null;b&&(this.id_mapping={},this.tree=this,this.node_class=c)}d.prototype.setData=function(a){var b,c;if("object"!==typeof a)this.name=a;else for(b in a)c=a[b],"label"===b?this.name=c:this[b]=c;return null};d.prototype.initFromData=function(a){var b,c;c=function(a){return function(c){a.setData(c);
if(c.children)return b(c.children)}}(this);b=function(a){return function(b){var c,d,f,e;d=0;for(f=b.length;d<f;d++)c=b[d],e=new a.tree.node_class(""),e.initFromData(c),a.addChild(e);return null}}(this);c(a);return null};d.prototype.loadFromData=function(a){var b,c,d,f;this.removeChildren();b=0;for(c=a.length;b<c;b++)f=a[b],d=new this.tree.node_class(f),this.addChild(d),"object"===typeof f&&f.children&&d.loadFromData(f.children);return null};d.prototype.addChild=function(a){this.children.push(a);return a._setParent(this)};
d.prototype.addChildAtPosition=function(a,b){this.children.splice(b,0,a);return a._setParent(this)};d.prototype._setParent=function(a){this.parent=a;this.tree=a.tree;return this.tree.addNodeToIndex(this)};d.prototype.removeChild=function(a){a.removeChildren();return this._removeChild(a)};d.prototype._removeChild=function(a){this.children.splice(this.getChildIndex(a),1);return this.tree.removeNodeFromIndex(a)};d.prototype.getChildIndex=function(a){return $.inArray(a,this.children)};d.prototype.hasChildren=
function(){return 0!==this.children.length};d.prototype.isFolder=function(){return this.hasChildren()||this.load_on_demand};d.prototype.iterate=function(a){var b;b=function(c,d){var f,e,g,k,m;if(c.children){k=c.children;e=0;for(g=k.length;e<g;e++)f=k[e],(m=a(f,d))&&f.hasChildren()&&b(f,d+1);return null}};b(this,0);return null};d.prototype.moveNode=function(a,b,c){if(!a.isParentOf(b)){a.parent._removeChild(a);if(c===e.AFTER)return b.parent.addChildAtPosition(a,b.parent.getChildIndex(b)+1);if(c===e.BEFORE)return b.parent.addChildAtPosition(a,
b.parent.getChildIndex(b));if(c===e.INSIDE)return b.addChildAtPosition(a,0)}};d.prototype.getData=function(){var a;a=function(b){return function(b){var d,f,e,g,k,m,r;d=[];f=0;for(g=b.length;f<g;f++){k=b[f];m={};for(e in k)r=k[e],"parent"!==e&&"children"!==e&&"element"!==e&&"tree"!==e&&Object.prototype.hasOwnProperty.call(k,e)&&(m[e]=r);k.hasChildren()&&(m.children=a(k.children));d.push(m)}return d}}(this);return a(this.children)};d.prototype.getNodeByName=function(a){var b;b=null;this.iterate(function(c){return c.name===
a?(b=c,!1):!0});return b};d.prototype.addAfter=function(a){var b;return this.parent?(b=new this.tree.node_class(a),a=this.parent.getChildIndex(this),this.parent.addChildAtPosition(b,a+1),b):null};d.prototype.addBefore=function(a){var b;return this.parent?(b=new this.tree.node_class(a),a=this.parent.getChildIndex(this),this.parent.addChildAtPosition(b,a),b):null};d.prototype.addParent=function(a){var b,c,d,f,e;if(this.parent){d=new this.tree.node_class(a);d._setParent(this.tree);f=this.parent;e=f.children;
b=0;for(c=e.length;b<c;b++)a=e[b],d.addChild(a);f.children=[];f.addChild(d);return d}return null};d.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this),this.parent=null};d.prototype.append=function(a){a=new this.tree.node_class(a);this.addChild(a);return a};d.prototype.prepend=function(a){a=new this.tree.node_class(a);this.addChildAtPosition(a,0);return a};d.prototype.isParentOf=function(a){for(a=a.parent;a;){if(a===this)return!0;a=a.parent}return!1};d.prototype.getLevel=
function(){var a,b;a=0;for(b=this;b.parent;)a+=1,b=b.parent;return a};d.prototype.getNodeById=function(a){return this.id_mapping[a]};d.prototype.addNodeToIndex=function(a){if(null!=a.id)return this.id_mapping[a.id]=a};d.prototype.removeNodeFromIndex=function(a){if(null!=a.id)return delete this.id_mapping[a.id]};d.prototype.removeChildren=function(){this.iterate(function(a){return function(b){a.tree.removeNodeFromIndex(b);return!0}}(this));return this.children=[]};d.prototype.getPreviousSibling=function(){var a;
return this.parent?(a=this.parent.getChildIndex(this)-1,0<=a?this.parent.children[a]:null):null};d.prototype.getNextSibling=function(){var a;return this.parent?(a=this.parent.getChildIndex(this)+1,a<this.parent.children.length?this.parent.children[a]:null):null};d.prototype.getNodesByProperty=function(a,b){return this.filter(function(c){return c[a]===b})};d.prototype.filter=function(a){var b;b=[];this.iterate(function(c){a(c)&&b.push(c);return!0});return b};d.prototype.getNextNode=function(a){null==
a&&(a=!0);return a&&this.hasChildren()&&this.is_open?this.children[0]:this.parent?(a=this.getNextSibling())?a:this.parent.getNextNode(!1):null};d.prototype.getPreviousNode=function(){var a;return this.parent?(a=this.getPreviousSibling())?a.hasChildren()&&a.is_open?a.getLastChild():a:this.parent.parent?this.parent:null:null};d.prototype.getLastChild=function(){var a;return this.hasChildren()?(a=this.children[this.children.length-1],a.hasChildren()&&a.is_open?a.getLastChild():a):null};return d}();m.exports=
{Node:d,Position:e}},{}],6:[function(d,m,g){var e,f,a,b=function(a,b){function d(){this.constructor=a}for(var f in b)c.call(b,f)&&(a[f]=b[f]);d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a},c={}.hasOwnProperty;a=d("./node").Position;g=function(){function b(a,c){this.init(a,c)}b.prototype.init=function(a,b){this.node=a;this.tree_widget=b;a.element||(a.element=this.tree_widget.element);return this.$element=$(a.element)};b.prototype.getUl=function(){return this.$element.children("ul:first")};
b.prototype.getSpan=function(){return this.$element.children(".jqtree-element").find("span.jqtree-title")};b.prototype.getLi=function(){return this.$element};b.prototype.addDropHint=function(b){return b===a.INSIDE?new e(this.$element):new f(this.node,this.$element,b)};b.prototype.select=function(){return this.getLi().addClass("jqtree-selected")};b.prototype.deselect=function(){return this.getLi().removeClass("jqtree-selected")};return b}();d=function(c){function d(){return d.__super__.constructor.apply(this,
arguments)}b(d,c);d.prototype.open=function(a,b){var c;null==b&&(b=!0);if(!this.node.is_open){this.node.is_open=!0;c=this.getButton();c.removeClass("jqtree-closed");c.html("");c.append(this.tree_widget.renderer.opened_icon_element.cloneNode(!1));c=function(b){return function(){b.getLi().removeClass("jqtree-closed");a&&a();return b.tree_widget._triggerEvent("tree.open",{node:b.node})}}(this);if(b)return this.getUl().slideDown("fast",c);this.getUl().show();return c()}};d.prototype.close=function(a){var b;
null==a&&(a=!0);if(this.node.is_open){this.node.is_open=!1;b=this.getButton();b.addClass("jqtree-closed");b.html("");b.append(this.tree_widget.renderer.closed_icon_element.cloneNode(!1));b=function(a){return function(){a.getLi().addClass("jqtree-closed");return a.tree_widget._triggerEvent("tree.close",{node:a.node})}}(this);if(a)return this.getUl().slideUp("fast",b);this.getUl().hide();return b()}};d.prototype.getButton=function(){return this.$element.children(".jqtree-element").find("a.jqtree-toggler")};
d.prototype.addDropHint=function(b){return this.node.is_open||b!==a.INSIDE?new f(this.node,this.$element,b):new e(this.$element)};return d}(g);e=function(){function a(b){var c;c=b.children(".jqtree-element");b=b.width()-4;this.$hint=$('<span class="jqtree-border"></span>');c.append(this.$hint);this.$hint.css({width:b,height:c.outerHeight()-4})}a.prototype.remove=function(){return this.$hint.remove()};return a}();f=function(){function b(c,d,f){this.$element=d;this.node=c;this.$ghost=$('<li class="jqtree_common jqtree-ghost"><span class="jqtree_common jqtree-circle"></span><span class="jqtree_common jqtree-line"></span></li>');
f===a.AFTER?this.moveAfter():f===a.BEFORE?this.moveBefore():f===a.INSIDE&&(c.isFolder()&&c.is_open?this.moveInsideOpenFolder():this.moveInside())}b.prototype.remove=function(){return this.$ghost.remove()};b.prototype.moveAfter=function(){return this.$element.after(this.$ghost)};b.prototype.moveBefore=function(){return this.$element.before(this.$ghost)};b.prototype.moveInsideOpenFolder=function(){return $(this.node.children[0].element).before(this.$ghost)};b.prototype.moveInside=function(){this.$element.after(this.$ghost);
return this.$ghost.addClass("jqtree-inside")};return b}();m.exports={FolderElement:d,NodeElement:g}},{"./node":5}],7:[function(d,m,g){var e;e=d("./util").isInt;d=function(){function d(a){this.tree_widget=a}d.prototype.saveState=function(){var a;a=JSON.stringify(this.getState());if(this.tree_widget.options.onSetStateFromStorage)return this.tree_widget.options.onSetStateFromStorage(a);if(this.supportsLocalStorage())return localStorage.setItem(this.getCookieName(),a);if($.cookie)return $.cookie.raw=
!0,$.cookie(this.getCookieName(),a,{path:"/"})};d.prototype.getStateFromStorage=function(){var a;return(a=this._loadFromStorage())?this._parseState(a):null};d.prototype._parseState=function(a){(a=$.parseJSON(a))&&a.selected_node&&e(a.selected_node)&&(a.selected_node=[a.selected_node]);return a};d.prototype._loadFromStorage=function(){return this.tree_widget.options.onGetStateFromStorage?this.tree_widget.options.onGetStateFromStorage():this.supportsLocalStorage()?localStorage.getItem(this.getCookieName()):
$.cookie?($.cookie.raw=!0,$.cookie(this.getCookieName())):null};d.prototype.getState=function(){var a,b;a=function(a){return function(){var b;b=[];a.tree_widget.tree.iterate(function(a){a.is_open&&a.id&&a.hasChildren()&&b.push(a.id);return!0});return b}}(this);b=function(a){return function(){var b;return function(){var a,c,d,f;d=this.tree_widget.getSelectedNodes();f=[];a=0;for(c=d.length;a<c;a++)b=d[a],f.push(b.id);return f}.call(a)}}(this);return{open_nodes:a(),selected_node:b()}};d.prototype.setInitialState=
function(a){var b;return a?(b=this._openInitialNodes(a.open_nodes),this._selectInitialNodes(a.selected_node),b):!1};d.prototype._openInitialNodes=function(a){var b,c,d,f;d=!1;b=0;for(c=a.length;b<c;b++)if(f=a[b],f=this.tree_widget.getNodeById(f))f.load_on_demand?d=!0:f.is_open=!0;return d};d.prototype._selectInitialNodes=function(a){var b,c,d,f;b=f=0;for(c=a.length;b<c;b++)if(d=a[b],d=this.tree_widget.getNodeById(d))f+=1,this.tree_widget.select_node_handler.addToSelection(d);return 0!==f};d.prototype.setInitialStateOnDemand=
function(a){if(a)return this._setInitialStateOnDemand(a.open_nodes,a.selected_node)};d.prototype._setInitialStateOnDemand=function(a,b){var c,d;d=function(d){return function(){var f,e,g,m,p;g=[];f=0;for(e=a.length;f<e;f++)p=a[f],(m=d.tree_widget.getNodeById(p))?m.is_loading||(m.load_on_demand?c(m):d.tree_widget._openNode(m,!1)):g.push(p);a=g;if(d._selectInitialNodes(b))return d.tree_widget._refreshElements()}}(this);c=function(a){return function(b){return a.tree_widget._openNode(b,!1,d)}}(this);return d()};
d.prototype.getCookieName=function(){return"string"===typeof this.tree_widget.options.saveState?this.tree_widget.options.saveState:"tree"};d.prototype.supportsLocalStorage=function(){null==this._supportsLocalStorage&&(this._supportsLocalStorage=function(){if("undefined"===typeof localStorage||null===localStorage)return!1;try{sessionStorage.setItem("_storage_test",!0),sessionStorage.removeItem("_storage_test")}catch(a){return!1}return!0}());return this._supportsLocalStorage};d.prototype.getNodeIdToBeSelected=
function(){var a;return(a=this.getStateFromStorage())&&a.selected_node?a.selected_node[0]:null};return d}();m.exports=d},{"./util":12}],8:[function(d,m,g){d=function(){function d(f){this.tree_widget=f;this.previous_top=-1;this._initScrollParent()}d.prototype._initScrollParent=function(){var d,a;d=function(a){return function(){var c,d,f,e,g,k;c=["overflow","overflow-y"];f=function(a){var b,d,f,e;d=0;for(f=c.length;d<f;d++)if(b=c[d],"auto"===(e=$.css(a,b))||"scroll"===e)return!0;return!1};if(f(a.tree_widget.$el[0]))return a.tree_widget.$el;
k=a.tree_widget.$el.parents();e=0;for(g=k.length;e<g;e++)if(d=k[e],f(d))return $(d);return null}}(this);a=function(a){return function(){a.scroll_parent_top=0;return a.$scroll_parent=null}}(this);"fixed"===this.tree_widget.$el.css("position")&&a();return(d=d())&&d.length&&"HTML"!==d[0].tagName?(this.$scroll_parent=d,this.scroll_parent_top=this.$scroll_parent.offset().top):a()};d.prototype.checkScrolling=function(){var d;if((d=this.tree_widget.dnd_handler.hovered_area)&&d.top!==this.previous_top)return this.previous_top=
d.top,this.$scroll_parent?this._handleScrollingWithScrollParent(d):this._handleScrollingWithDocument(d)};d.prototype._handleScrollingWithScrollParent=function(d){if(20>this.scroll_parent_top+this.$scroll_parent[0].offsetHeight-d.bottom)return this.$scroll_parent[0].scrollTop+=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1;if(20>d.top-this.scroll_parent_top)return this.$scroll_parent[0].scrollTop-=20,this.tree_widget.refreshHitAreas(),this.previous_top=-1};d.prototype._handleScrollingWithDocument=
function(d){if(20>d.top-$(document).scrollTop())return $(document).scrollTop($(document).scrollTop()-20);if(20>$(window).height()-(d.bottom-$(document).scrollTop()))return $(document).scrollTop($(document).scrollTop()+20)};d.prototype.scrollTo=function(d){var a;if(this.$scroll_parent)return this.$scroll_parent[0].scrollTop=d;a=this.tree_widget.$el.offset().top;return $(document).scrollTop(d+a)};d.prototype.isScrolledIntoView=function(d){var a,b,c;d=$(d);this.$scroll_parent?(c=0,b=this.$scroll_parent.height(),
a=d.offset().top-this.scroll_parent_top):(c=$(window).scrollTop(),b=c+$(window).height(),a=d.offset().top);return a+d.height()<=b&&a>=c};return d}();m.exports=d},{}],9:[function(d,m,g){d=function(){function d(f){this.tree_widget=f;this.clear()}d.prototype.getSelectedNode=function(){var d;d=this.getSelectedNodes();return d.length?d[0]:!1};d.prototype.getSelectedNodes=function(){var d,a,b;if(this.selected_single_node)return[this.selected_single_node];b=[];for(d in this.selected_nodes)(a=this.tree_widget.getNodeById(d))&&
b.push(a);return b};d.prototype.getSelectedNodesUnder=function(d){var a,b,c;if(this.selected_single_node)return d.isParentOf(this.selected_single_node)?[this.selected_single_node]:[];c=[];for(a in this.selected_nodes)(b=this.tree_widget.getNodeById(a))&&d.isParentOf(b)&&c.push(b);return c};d.prototype.isNodeSelected=function(d){return d.id?this.selected_nodes[d.id]:this.selected_single_node?this.selected_single_node.element===d.element:!1};d.prototype.clear=function(){this.selected_nodes={};return this.selected_single_node=
null};d.prototype.removeFromSelection=function(d,a){null==a&&(a=!1);if(d.id){if(delete this.selected_nodes[d.id],a)return d.iterate(function(a){return function(c){delete a.selected_nodes[d.id];return!0}}(this))}else if(this.selected_single_node&&d.element===this.selected_single_node.element)return this.selected_single_node=null};d.prototype.addToSelection=function(d){return d.id?this.selected_nodes[d.id]=!0:this.selected_single_node=d};return d}();m.exports=d},{}],10:[function(d,m,g){var e=[].slice;
d=function(){function d(a,b){this.$el=$(a);this.options=$.extend({},this.defaults,b)}d.prototype.defaults={};d.prototype.destroy=function(){return this._deinit()};d.prototype._init=function(){return null};d.prototype._deinit=function(){return null};d.register=function(a,b){var c,g,h,l,m;l=function(){return"simple_widget_"+b};m=function(a,b){var c;return(c=$.data(a,b))&&c instanceof d?c:null};g=function(b,c){var d,e,f,g,h;d=l();g=0;for(h=b.length;g<h;g++)e=b[g],f=m(e,d),f||(f=new a(e,c),$.data(e,d)||
$.data(e,d,f),f._init());return b};h=function(a){var b,c,d,e,f,g;b=l();f=[];d=0;for(e=a.length;d<e;d++)c=a[d],(g=m(c,b))&&g.destroy(),f.push($.removeData(c,b));return f};c=function(a,b,c){var e,g,h,m,p;m=null;g=0;for(h=a.length;g<h;g++)e=a[g],(e=$.data(e,l()))&&e instanceof d&&(p=e[b])&&"function"===typeof p&&(m=p.apply(e,c));return m};return $.fn[b]=function(){var b,d;d=arguments[0];b=2<=arguments.length?e.call(arguments,1):[];if(void 0===d||"object"===typeof d)return g(this,d);if("string"===typeof d&&
"_"!==d[0])return"destroy"===d?h(this):"get_widget_class"===d?a:c(this,d,b)}};return d}();m.exports=d},{}],11:[function(d,m,g){var e,f,a,b,c,p,h,l,x,k,B,r,v,A,z=function(a,b){function c(){this.constructor=a}for(var d in b)t.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},t={}.hasOwnProperty;B=d("./version");e=d("./drag_and_drop_handler");f=d("./elements_renderer");b=d("./key_handler");g=d("./mouse.widget");l=d("./save_state_handler");x=d("./scroll_handler");
k=d("./select_node_handler");m=d("./simple.widget");v=d("./node");c=v.Node;h=v.Position;A=d("./util");r=d("./node_element");p=r.NodeElement;a=r.FolderElement;d=function(d){function g(){return g.__super__.constructor.apply(this,arguments)}z(g,d);g.prototype.defaults={autoOpen:!1,saveState:!1,dragAndDrop:!1,selectable:!0,useContextMenu:!0,onCanSelectNode:null,onSetStateFromStorage:null,onGetStateFromStorage:null,onCreateLi:null,onIsMoveHandle:null,onCanMove:null,onCanMoveTo:null,onLoadFailed:null,autoEscape:!0,
dataUrl:null,closedIcon:"&#x25ba;",openedIcon:"&#x25bc;",slide:!0,nodeClass:c,dataFilter:null,keyboardSupport:!0,openFolderDelay:500};g.prototype.toggle=function(a,b){null==b&&(b=null);null===b&&(b=this.options.slide);return a.is_open?this.closeNode(a,b):this.openNode(a,b)};g.prototype.getTree=function(){return this.tree};g.prototype.selectNode=function(a){return this._selectNode(a,!1)};g.prototype._selectNode=function(a,b){var c,d,e;null==b&&(b=!1);if(this.select_node_handler)if(c=function(b){return function(){return b.options.onCanSelectNode?
b.options.selectable&&b.options.onCanSelectNode(a):b.options.selectable}}(this),d=function(b){return function(){var c;if((c=a.parent)&&c.parent&&!c.is_open)return b.openNode(c,!1)}}(this),e=function(a){return function(){if(a.options.saveState)return a.save_state_handler.saveState()}}(this),!a)this._deselectCurrentNode(),e();else if(c())return this.select_node_handler.isNodeSelected(a)?b&&(this._deselectCurrentNode(),this._triggerEvent("tree.select",{node:null,previous_node:a})):(c=this.getSelectedNode(),
this._deselectCurrentNode(),this.addToSelection(a),this._triggerEvent("tree.select",{node:a,deselected_node:c}),d()),e()};g.prototype.getSelectedNode=function(){return this.select_node_handler?this.select_node_handler.getSelectedNode():null};g.prototype.toJson=function(){return JSON.stringify(this.tree.getData())};g.prototype.loadData=function(a,b){return this._loadData(a,b)};g.prototype.loadDataFromUrl=function(a,b,c){"string"!==$.type(a)&&(c=b,b=a,a=null);return this._loadDataFromUrl(a,b,c)};g.prototype.reload=
function(){return this.loadDataFromUrl()};g.prototype._loadDataFromUrl=function(a,b,c){var d,e,f,g,h,k;d=null;e=function(a){return function(){d=b?$(b.element):a.element;return d.addClass("jqtree-loading")}}(this);k=function(){if(d)return d.removeClass("jqtree-loading")};h=function(){"string"===$.type(a)&&(a={url:a});if(!a.method)return a.method="get"};f=function(a){return function(d){k();a._loadData(d,b);if(c&&$.isFunction(c))return c()}}(this);g=function(b){return function(){h();return $.ajax({url:a.url,
data:a.data,type:a.method.toUpperCase(),cache:!1,dataType:"json",success:function(a){a=$.isArray(a)||"object"===typeof a?a:$.parseJSON(a);b.options.dataFilter&&(a=b.options.dataFilter(a));return f(a)},error:function(a){k();if(b.options.onLoadFailed)return b.options.onLoadFailed(a)}})}}(this);a||(a=this._getDataUrlInfo(b));e();if(a)if($.isArray(a))f(a);else return g();else k()};g.prototype._loadData=function(a,b){var c,d;null==b&&(b=null);c=function(a){return function(){var c,d,e,f;if(a.select_node_handler)for(f=
a.select_node_handler.getSelectedNodesUnder(b),c=0,d=f.length;c<d;c++)e=f[c],a.select_node_handler.removeFromSelection(e);return null}}(this);d=function(c){return function(){b.loadFromData(a);b.load_on_demand=!1;b.is_loading=!1;return c._refreshElements(b)}}(this);if(a&&(this._triggerEvent("tree.load_data",{tree_data:a}),b?(c(),d()):this._initTree(a),this.isDragging()))return this.dnd_handler.refresh()};g.prototype.getNodeById=function(a){return this.tree.getNodeById(a)};g.prototype.getNodeByName=
function(a){return this.tree.getNodeByName(a)};g.prototype.getNodesByProperty=function(a,b){return this.tree.getNodesByProperty(a,b)};g.prototype.openNode=function(a,b){null==b&&(b=null);null===b&&(b=this.options.slide);return this._openNode(a,b)};g.prototype._openNode=function(b,c,d){var e,f;null==c&&(c=!0);e=function(b){return function(c,d,e){return(new a(c,b)).open(e,d)}}(this);if(b.isFolder()){if(b.load_on_demand)return this._loadFolderOnDemand(b,c,d);for(f=b.parent;f;)f.parent&&e(f,!1,null),
f=f.parent;e(b,c,d);return this._saveState()}};g.prototype._loadFolderOnDemand=function(a,b,c){null==b&&(b=!0);a.is_loading=!0;return this._loadDataFromUrl(null,a,function(d){return function(){return d._openNode(a,b,c)}}(this))};g.prototype.closeNode=function(b,c){null==c&&(c=null);null===c&&(c=this.options.slide);if(b.isFolder())return(new a(b,this)).close(c),this._saveState()};g.prototype.isDragging=function(){return this.dnd_handler?this.dnd_handler.is_dragging:!1};g.prototype.refreshHitAreas=
function(){return this.dnd_handler.refresh()};g.prototype.addNodeAfter=function(a,b){var c;c=b.addAfter(a);this._refreshElements(b.parent);return c};g.prototype.addNodeBefore=function(a,b){var c;c=b.addBefore(a);this._refreshElements(b.parent);return c};g.prototype.addParentNode=function(a,b){var c;c=b.addParent(a);this._refreshElements(c.parent);return c};g.prototype.removeNode=function(a){var b;if(b=a.parent)return this.select_node_handler.removeFromSelection(a,!0),a.remove(),this._refreshElements(b)};
g.prototype.appendNode=function(a,b){var c;b=b||this.tree;c=b.append(a);this._refreshElements(b);return c};g.prototype.prependNode=function(a,b){var c;b||(b=this.tree);c=b.prepend(a);this._refreshElements(b);return c};g.prototype.updateNode=function(a,b){var c;(c=b.id&&b.id!==a.id)&&this.tree.removeNodeFromIndex(a);a.setData(b);c&&this.tree.addNodeToIndex(a);this.renderer.renderFromNode(a);return this._selectCurrentNode()};g.prototype.moveNode=function(a,b,c){c=h.nameToIndex(c);this.tree.moveNode(a,
b,c);return this._refreshElements()};g.prototype.getStateFromStorage=function(){return this.save_state_handler.getStateFromStorage()};g.prototype.addToSelection=function(a){if(a)return this.select_node_handler.addToSelection(a),this._getNodeElementForNode(a).select(),this._saveState()};g.prototype.getSelectedNodes=function(){return this.select_node_handler.getSelectedNodes()};g.prototype.isNodeSelected=function(a){return this.select_node_handler.isNodeSelected(a)};g.prototype.removeFromSelection=
function(a){this.select_node_handler.removeFromSelection(a);this._getNodeElementForNode(a).deselect();return this._saveState()};g.prototype.scrollToNode=function(a){a=$(a.element).offset().top-this.$el.offset().top;return this.scroll_handler.scrollTo(a)};g.prototype.getState=function(){return this.save_state_handler.getState()};g.prototype.setState=function(a){this.save_state_handler.setInitialState(a);return this._refreshElements()};g.prototype.setOption=function(a,b){return this.options[a]=b};g.prototype.moveDown=
function(){if(this.key_handler)return this.key_handler.moveDown()};g.prototype.moveUp=function(){if(this.key_handler)return this.key_handler.moveUp()};g.prototype.getVersion=function(){return B};g.prototype._init=function(){g.__super__._init.call(this);this.element=this.$el;this.mouse_delay=300;this.is_initialized=!1;this.renderer=new f(this);null!=l?this.save_state_handler=new l(this):this.options.saveState=!1;null!=k&&(this.select_node_handler=new k(this));null!=e?this.dnd_handler=new e(this):this.options.dragAndDrop=
!1;null!=x&&(this.scroll_handler=new x(this));null!=b&&null!=k&&(this.key_handler=new b(this));this._initData();this.element.click($.proxy(this._click,this));this.element.dblclick($.proxy(this._dblclick,this));if(this.options.useContextMenu)return this.element.bind("contextmenu",$.proxy(this._contextmenu,this))};g.prototype._deinit=function(){this.element.empty();this.element.unbind();this.key_handler&&this.key_handler.deinit();this.tree=null;return g.__super__._deinit.call(this)};g.prototype._initData=
function(){return this.options.data?this._loadData(this.options.data):this._loadDataFromUrl(this._getDataUrlInfo())};g.prototype._getDataUrlInfo=function(a){var b,c;b=this.options.dataUrl||this.element.data("url");c=function(c){return function(){var d,e;e={url:b};if(a&&a.id)d={node:a.id},e.data=d;else if(d=c._getNodeIdToBeSelected())d={selected_node:d},e.data=d;return e}}(this);return $.isFunction(b)?b(a):"string"===$.type(b)?c():b};g.prototype._getNodeIdToBeSelected=function(){return this.options.saveState?
this.save_state_handler.getNodeIdToBeSelected():null};g.prototype._initTree=function(a){this.tree=new this.options.nodeClass(null,!0,this.options.nodeClass);this.select_node_handler&&this.select_node_handler.clear();this.tree.loadFromData(a);a=this._setInitialState();this._refreshElements();a&&this._setInitialStateOnDemand();if(!this.is_initialized)return this.is_initialized=!0,this._triggerEvent("tree.init")};g.prototype._setInitialState=function(){var a,b,c;b=function(a){return function(){var b;
return a.options.saveState&&a.save_state_handler&&(b=a.save_state_handler.getStateFromStorage())?(b=a.save_state_handler.setInitialState(b),[!0,b]):[!1,!1]}}(this);a=function(a){return function(){var b,c;if(!1===a.options.autoOpen)return!1;b=a._getAutoOpenMaxLevel();c=!1;a.tree.iterate(function(a,d){return a.load_on_demand?(c=!0,!1):a.hasChildren()?(a.is_open=!0,d!==b):!1});return c}}(this);c=b();b=c[0];c=c[1];b||(c=a());return c};g.prototype._setInitialStateOnDemand=function(){var a,b;b=function(a){return function(){var b;
return a.options.saveState&&a.save_state_handler&&(b=a.save_state_handler.getStateFromStorage())?(a.save_state_handler.setInitialStateOnDemand(b),!0):!1}}(this);a=function(a){return function(){var b,c,d;c=a._getAutoOpenMaxLevel();b=function(b){return a._openNode(b,!1,d)};d=function(){return a.tree.iterate(function(d,e){if(d.load_on_demand)return d.is_loading||b(d),!1;a._openNode(d,!1);return e!==c})};return d()}}(this);if(!b())return a()};g.prototype._getAutoOpenMaxLevel=function(){return!0===this.options.autoOpen?
-1:parseInt(this.options.autoOpen)};g.prototype._refreshElements=function(a){null==a&&(a=null);this.renderer.render(a);return this._triggerEvent("tree.refresh")};g.prototype._click=function(a){var b;if(b=this._getClickTarget(a.target)){if("button"===b.type)return this.toggle(b.node,this.options.slide),a.preventDefault(),a.stopPropagation();if("label"===b.type&&(b=b.node,a=this._triggerEvent("tree.click",{node:b,click_event:a}),!a.isDefaultPrevented()))return this._selectNode(b,!0)}};g.prototype._dblclick=
function(a){var b;if((b=this._getClickTarget(a.target))&&"label"===b.type)return this._triggerEvent("tree.dblclick",{node:b.node,click_event:a})};g.prototype._getClickTarget=function(a){var b;b=$(a);a=b.closest(".jqtree-toggler");if(a.length){if(a=this._getNode(a))return{type:"button",node:a}}else if(a=b.closest(".jqtree-element"),a.length&&(a=this._getNode(a)))return{type:"label",node:a};return null};g.prototype._getNode=function(a){a=a.closest("li.jqtree_common");return 0===a.length?null:a.data("node")};
g.prototype._getNodeElementForNode=function(b){return b.isFolder()?new a(b,this):new p(b,this)};g.prototype._getNodeElement=function(a){return(a=this._getNode(a))?this._getNodeElementForNode(a):null};g.prototype._contextmenu=function(a){var b;b=$(a.target).closest("ul.jqtree-tree .jqtree-element");if(b.length&&(b=this._getNode(b)))return a.preventDefault(),a.stopPropagation(),this._triggerEvent("tree.contextmenu",{node:b,click_event:a}),!1};g.prototype._saveState=function(){if(this.options.saveState)return this.save_state_handler.saveState()};
g.prototype._mouseCapture=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseCapture(a):!1};g.prototype._mouseStart=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseStart(a):!1};g.prototype._mouseDrag=function(a){return this.options.dragAndDrop?(a=this.dnd_handler.mouseDrag(a),this.scroll_handler&&this.scroll_handler.checkScrolling(),a):!1};g.prototype._mouseStop=function(a){return this.options.dragAndDrop?this.dnd_handler.mouseStop(a):!1};g.prototype._triggerEvent=
function(a,b){var c;c=$.Event(a);$.extend(c,b);this.element.trigger(c);return c};g.prototype.testGenerateHitAreas=function(a){this.dnd_handler.current_item=this._getNodeElementForNode(a);this.dnd_handler.generateHitAreas();return this.dnd_handler.hit_areas};g.prototype._selectCurrentNode=function(){var a;if(a=this.getSelectedNode())if(r=this._getNodeElementForNode(a))return r.select()};g.prototype._deselectCurrentNode=function(){var a;if(a=this.getSelectedNode())return this.removeFromSelection(a)};
return g}(g);d.getModule=function(a){return{node:v,util:A}[a]};m.register(d,"tree")},{"./drag_and_drop_handler":1,"./elements_renderer":2,"./key_handler":3,"./mouse.widget":4,"./node":5,"./node_element":6,"./save_state_handler":7,"./scroll_handler":8,"./select_node_handler":9,"./simple.widget":10,"./util":12,"./version":13}],12:[function(d,m,g){var e;e=function(d,a){var b,c,e,g;b=c=0;for(e=d.length;c<e;b=++c)if(g=d[b],g===a)return b;return-1};m.exports={_indexOf:e,html_escape:function(d){return(""+
d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},indexOf:function(d,a){return d.indexOf?d.indexOf(a):e(d,a)},isInt:function(d){return"number"===typeof d&&0===d%1}}},{}],13:[function(d,m,g){m.exports="1.0.0"},{}]},{},[11]);
